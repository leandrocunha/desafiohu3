{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/app.js","src/js/router.js","node_modules/lodash/dist/lodash.js","src/js/components/Main.js","src/js/components/Home.js","src/js/components/Offer.js","src/js/config/numeral.js","src/js/flux/index.js","src/js/components/Offers.js","src/js/components/Options.js","src/js/components/Loading.js","src/js/components/Warning.js","src/js/helpers/randomKey.js","node_modules/numeral/numeral.js","node_modules/mcfly/index.js","src/js/helpers/warnings.js","node_modules/mcfly/lib/McFly.js","node_modules/mcfly/lib/Dispatcher.js","node_modules/mcfly/lib/Store.js","node_modules/mcfly/lib/ActionsFactory.js","node_modules/mcfly/lib/Action.js","node_modules/events/events.js","node_modules/object-assign/index.js","node_modules/flux/index.js","node_modules/invariant/browser.js","node_modules/flux/lib/Dispatcher.js","node_modules/process/browser.js","node_modules/flux/node_modules/fbjs/lib/invariant.js"],"names":["LazyLoad","js","hU","baseURL","_require","require","assign","global","React","jQuery","$","_react","_reactDom","_reactPage","_flux","_Main","_Home","_Offer","_numeral","render","RootComponent","_reactDom2","default","_react2","createElement","document","getElementById","_reactPage2","set","with","_Main2","on","_Home2","when","_ref","params","actions","offers","get","id","_Offer2","run","window","undefined","lodash","value","__wrapped__","this","cachedContains","array","fromIndex","largeSize","length","isLarge","largeArraySize","cache","index","key","hasOwnProperty","call","push","indexOf","charAtCallback","charCodeAt","compareAscending","a","b","ai","bi","criteria","createBound","func","thisArg","partialArgs","rightIndicator","bound","args","arguments","thisBinding","isPartial","isFunc","slice","concat","noop","prototype","result","apply","isObject","isFunction","createCallback","argCount","identity","type","object","props","keys","isEqual","indicatorObject","accumulator","createIterator","data","isKeysFast","arrays","bottom","loop","top","useHas","firstArg","exec","factory","Function","iteratorTemplate","isArguments","isArray","isString","objectTypes","nativeKeys","escapeStringChar","match","stringEscapes","escapeHtmlChar","htmlEscapes","start","end","Array","unescapeHtmlChar","htmlUnescapes","toString","argsClass","shimIsPlainObject","ctor","constructor","forIn","shimKeys","forOwn","clone","deep","callback","stackA","stackB","done","isObj","className","cloneableClasses","isArr","ctorByClass","boolClass","dateClass","numberClass","stringClass","regexpClass","source","reFlags","input","forEach","objValue","cloneDeep","functions","sort","has","property","invert","isBoolean","isDate","Date","isElement","nodeType","isEmpty","arrayClass","objectClass","splice","whereIndicator","otherType","otherClass","ctorA","ctorB","size","isFinite","nativeIsFinite","nativeIsNaN","parseFloat","isNaN","isNumber","isNull","isRegExp","RegExp","isUndefined","merge","deepIndicator","found","isPlainObject","stackLength","omit","arrayRef","pairs","pick","values","at","collection","contains","target","nativeMax","each","countBy","every","filter","find","groupBy","invoke","methodName","map","max","computed","Infinity","current","min","reduce","noaccum","reduceRight","iterable","reject","shuffle","rand","floor","nativeRandom","some","sortBy","toArray","compact","difference","flattened","first","n","nativeMin","flatten","shallow","sortedIndex","initial","intersection","argsLength","0","seen","outer","inited","argsIndex","last","lastIndexOf","range","step","ceil","rest","low","high","mid","union","uniq","isSorted","without","zip","pluck","after","bind","isBindFast","nativeBind","bindAll","funcs","bindKey","compose","debounce","wait","immediate","delayed","timeoutId","isImmediate","clearTimeout","setTimeout","delay","defer","memoize","resolver","once","ran","partial","partialRight","throttle","trailingCall","lastCalled","now","remaining","wrap","wrapper","escape","string","replace","reUnescapedHtml","mixin","noConflict","_","oldDash","random","template","text","options","settings","templateSettings","defaults","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","reInterpolate","reEsTemplate","evaluate","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","reUnescapedString","variable","hasVariable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","sourceURL","templateCounter","e","times","unescape","reEscapedHtml","uniqueId","prefix","idCounter","tap","interceptor","wrapperToString","wrapperValueOf","freeExports","exports","freeModule","module","freeGlobal","objectRef","reNative","valueOf","Math","getPrototypeOf","test","Object","nativeIsArray","funcClass","isIeOpera","attachEvent","isV8","Boolean","Number","String","boolean","function","number","\\","'","\n","\r","\t"," "," ","obj","__p","defaultsIteratorOptions","eachIteratorOptions","forOwnIteratorOptions","&","<",">","\"","objProto","where","setImmediate","collect","drop","extend","methods","select","tail","unique","all","any","detect","foldl","foldr","include","inject","take","head","VERSION","define","amd","Main","Link","to","src","alt","title","RouteHandler","Component","_Loading","_Offers","Home","_classCallCheck","_this","_possibleConstructorReturn","__proto__","state","loading","_this2","list","then","setState","store","getOffers","_Loading2","_Offers2","_Options","Offer","css","_slick","findDOMNode","refs","slick","slidesToShow","slidesToScroll","arrows","fade","asNavFor","slickNav","focusOnSelect","offer","getOffer","location","description","ref","photos","photo","i","style","backgroundImage","_Options2","_numeral2","language","currency","symbol","delimiters","thousands","decimal","numeral","_mcfly","Flux","_mcfly2","OffersActions","createActions","Promise","resolve","fail","jqxhr","textStatus","error","console","log","actionType","OffersStore","createStore","setOffers","setOffer","payload","aliases","Offers","parseInt","_randonImageKey","_lodash","_Warning","_randomKey","Options","dailyArr","option","daily","departuresArr","from","filteredOpts","srcDaily","_daily","srcDepartures","_departures","onChange","_filterDeparture","departure","_filterDaily","locale","_Warning2","k","_randomKey2","price","format","Loading","_warnings","Warning","_warnings2","color","msg","randomKey","Numeral","_value","toFixed","precision","roundingFunction","optionals","optionalsRegExp","output","power","pow","formatNumeral","formatCurrency","formatPercentage","formatTime","formatNumber","unformatNumeral","thousandRegExp","millionRegExp","billionRegExp","trillionRegExp","stringOriginal","suffixes","bytesMultiplier","unformatTime","zeroFormat","languages","currentLanguage","abbreviations","thousand","million","billion","trillion","split","spliceIndex","symbolIndex","openParenIndex","minusSignIndex","space","join","hours","minutes","seconds","round","timeArray","w","negP","signed","optDec","abbr","abbrK","abbrM","abbrB","abbrT","abbrForce","bytes","ord","abs","d","neg","ordinal","loadLanguage","multiplier","x","parts","correctionFactor","prev","next","mp","mn","defaultFormat","hasModule","isNumeral","fn","unformat","version","Error","languageData","opt_initialValue","TypeError","isValueSet","inputString","add","cback","accum","curr","currI","O","corrFactor","subtract","multiply","divide","ender","warnings","_interopRequireDefault","__esModule","instance","Constructor","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","_Dispatcher","_Dispatcher2","_Store","_Store2","_ActionsFactory","_ActionsFactory2","_objectAssign","_objectAssign2","McFly","stores","dispatcher","dispatcherID","register","actionFactory","appDispatcher","Dispatcher","_events","_invariant","_invariant2","Store","self","EventEmitter","componentDidMount","warn","changeFn","storeDidChange","listener","isMounted","addChangeListener","componentWillUnmount","removeChangeListener","emit","removeListener","_Action","_Action2","ActionsFactory","_actions","action","dispatch","reThrow","stack","Action","_maxListeners","arg","defaultMaxListeners","setMaxListeners","er","handler","len","listeners","err","context","addListener","m","newListener","warned","trace","g","fired","position","removeAllListeners","ret","listenerCount","evlistener","emitter","toObject","val","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","propIsEnumerable","propertyIsEnumerable","symbols","s","getOwnPropertySymbols","invariant","condition","c","f","argIndex","name","framesToPop","_prefix","_callbacks","_isDispatching","_isHandled","_isPending","_lastID","unregister","process","env","NODE_ENV","waitFor","ids","ii","_invokeCallback","_startDispatching","_stopDispatching","isDispatching","_pendingPayload","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","Item","nextTick","browser","argv","versions","off","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","LazyLoad.js([`${hU.baseURL}js/vendors.js`], () => {\n\n  const {assign} = require('lodash');\n\n  global.React = require('react');\n  assign(global.React, require('react-dom'));\n  \n  global.jQuery = require('jquery');\n  global.$ = jQuery;\n\n  LazyLoad.js([`${hU.baseURL}vendors/slick/slick.min.js`], () => require('./router'));\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Page from 'react-page';\n\nimport {actions, store} from './flux';\nimport Main from './components/Main';\nimport Home from './components/Home';\nimport Offer from './components/Offer';\n\nimport numeral from './config/numeral';\n\nvar render = RootComponent => ReactDOM.render(<RootComponent />,\n  document.getElementById('app'));\n\nPage.set(render)\n .with(Main)\n  .on(\n    'app',\n    '/',\n    Home\n  )\n  .on(\n    'offer',\n    '/offer/:id',\n    Page.when(\n      ({params}) => actions.offers.get(params.id),\n      Offer,\n      null,\n      null\n    )\n  )\n  .run();\n","/**\n * @license\n * Lo-Dash 1.0.2 (Custom Build) <http://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.4.4 <http://underscorejs.org/>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * Available under MIT license <http://lodash.com/license>\n */\n;(function(window, undefined) {\n\n  /** Detect free variable `exports` */\n  var freeExports = typeof exports == 'object' && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = typeof module == 'object' && module && module.exports == freeExports && module;\n\n  /** Detect free variable `global` and use it as `window` */\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    window = freeGlobal;\n  }\n\n  /** Used for array and object method references */\n  var arrayRef = [],\n      objectRef = {};\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used internally to indicate various things */\n  var indicatorObject = objectRef;\n\n  /** Used by `cachedContains` as the default size when optimizations are enabled for large arrays */\n  var largeArraySize = 30;\n\n  /** Used to restore the original `_` reference in `noConflict` */\n  var oldDash = window._;\n\n  /** Used to match HTML entities */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g;\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect if a method is native */\n  var reNative = RegExp('^' +\n    (objectRef.valueOf + '')\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n      .replace(/valueOf|for [^\\]]+/g, '.+?') + '$'\n  );\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-7.8.6\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to match HTML characters */\n  var reUnescapedHtml = /[&<>\"']/g;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** Native method shortcuts */\n  var ceil = Math.ceil,\n      concat = arrayRef.concat,\n      floor = Math.floor,\n      getPrototypeOf = reNative.test(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n      hasOwnProperty = objectRef.hasOwnProperty,\n      push = arrayRef.push,\n      toString = objectRef.toString;\n\n  /* Native method shortcuts for methods with the same name as other `lodash` methods */\n  var nativeBind = reNative.test(nativeBind = slice.bind) && nativeBind,\n      nativeIsArray = reNative.test(nativeIsArray = Array.isArray) && nativeIsArray,\n      nativeIsFinite = window.isFinite,\n      nativeIsNaN = window.isNaN,\n      nativeKeys = reNative.test(nativeKeys = Object.keys) && nativeKeys,\n      nativeMax = Math.max,\n      nativeMin = Math.min,\n      nativeRandom = Math.random;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Detect various environments */\n  var isIeOpera = !!window.attachEvent,\n      isV8 = nativeBind && !/\\n|true/.test(nativeBind + isIeOpera);\n\n  /* Detect if `Function#bind` exists and is inferred to be fast (all but V8) */\n  var isBindFast = nativeBind && !isV8;\n\n  /* Detect if `Object.keys` exists and is inferred to be fast (IE, Opera, V8) */\n  var isKeysFast = nativeKeys && (isIeOpera || isV8);\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used to lookup a built-in constructor by [[Class]] */\n  var ctorByClass = {};\n  ctorByClass[arrayClass] = Array;\n  ctorByClass[boolClass] = Boolean;\n  ctorByClass[dateClass] = Date;\n  ctorByClass[objectClass] = Object;\n  ctorByClass[numberClass] = Number;\n  ctorByClass[regexpClass] = RegExp;\n  ctorByClass[stringClass] = String;\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a `lodash` object, that wraps the given `value`, to enable method\n   * chaining.\n   *\n   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n   * and `unshift`\n   *\n   * The chainable wrapper functions are:\n   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`, `compose`,\n   * `concat`, `countBy`, `debounce`, `defaults`, `defer`, `delay`, `difference`,\n   * `filter`, `flatten`, `forEach`, `forIn`, `forOwn`, `functions`, `groupBy`,\n   * `initial`, `intersection`, `invert`, `invoke`, `keys`, `map`, `max`, `memoize`,\n   * `merge`, `min`, `object`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n   * `pick`, `pluck`, `push`, `range`, `reject`, `rest`, `reverse`, `shuffle`,\n   * `slice`, `sort`, `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`,\n   * `union`, `uniq`, `unshift`, `values`, `where`, `without`, `wrap`, and `zip`\n   *\n   * The non-chainable wrapper functions are:\n   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `has`, `identity`,\n   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`, `isEmpty`,\n   * `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`, `isObject`,\n   * `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`, `lastIndexOf`,\n   * `mixin`, `noConflict`, `pop`, `random`, `reduce`, `reduceRight`, `result`,\n   * `shift`, `size`, `some`, `sortedIndex`, `template`, `unescape`, and `uniqueId`\n   *\n   * The wrapper functions `first` and `last` return wrapped values when `n` is\n   * passed, otherwise they return unwrapped values.\n   *\n   * @name _\n   * @constructor\n   * @category Chaining\n   * @param {Mixed} value The value to wrap in a `lodash` instance.\n   * @returns {Object} Returns a `lodash` instance.\n   */\n  function lodash(value) {\n    // exit early if already wrapped, even if wrapped by a different `lodash` constructor\n    if (value && typeof value == 'object' && value.__wrapped__) {\n      return value;\n    }\n    // allow invoking `lodash` without the `new` operator\n    if (!(this instanceof lodash)) {\n      return new lodash(value);\n    }\n    this.__wrapped__ = value;\n  }\n\n  /**\n   * By default, the template delimiters used by Lo-Dash are similar to those in\n   * embedded Ruby (ERB). Change the following template settings to use alternative\n   * delimiters.\n   *\n   * @static\n   * @memberOf _\n   * @type Object\n   */\n  lodash.templateSettings = {\n\n    /**\n     * Used to detect `data` property values to be HTML-escaped.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'escape': /<%-([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect code to be evaluated.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'evaluate': /<%([\\s\\S]+?)%>/g,\n\n    /**\n     * Used to detect `data` property values to inject.\n     *\n     * @memberOf _.templateSettings\n     * @type RegExp\n     */\n    'interpolate': reInterpolate,\n\n    /**\n     * Used to reference the data object in the template text.\n     *\n     * @memberOf _.templateSettings\n     * @type String\n     */\n    'variable': '',\n\n    /**\n     * Used to import variables into the compiled template.\n     *\n     * @memberOf _.templateSettings\n     * @type Object\n     */\n    'imports': {\n\n      /**\n       * A reference to the `lodash` function.\n       *\n       * @memberOf _.templateSettings.imports\n       * @type Function\n       */\n      '_': lodash\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The template used to create iterator functions.\n   *\n   * @private\n   * @param {Obect} data The data object used to populate the text.\n   * @returns {String} Returns the interpolated text.\n   */\n  var iteratorTemplate = function(obj) {\n    \n    var __p = 'var index, iterable = ' +\n    (obj.firstArg ) +\n    ', result = iterable;\\nif (!iterable) return result;\\n' +\n    (obj.top ) +\n    ';\\n';\n     if (obj.arrays) {\n    __p += 'var length = iterable.length; index = -1;\\nif (' +\n    (obj.arrays ) +\n    ') {\\n  while (++index < length) {\\n    ' +\n    (obj.loop ) +\n    '\\n  }\\n}\\nelse {  ';\n     } ;\n    \n     if (obj.isKeysFast && obj.useHas) {\n    __p += '\\n  var ownIndex = -1,\\n      ownProps = objectTypes[typeof iterable] ? nativeKeys(iterable) : [],\\n      length = ownProps.length;\\n\\n  while (++ownIndex < length) {\\n    index = ownProps[ownIndex];\\n    ' +\n    (obj.loop ) +\n    '\\n  }  ';\n     } else {\n    __p += '\\n  for (index in iterable) {';\n        if (obj.useHas) {\n    __p += '\\n    if (';\n          if (obj.useHas) {\n    __p += 'hasOwnProperty.call(iterable, index)';\n     }    ;\n    __p += ') {    ';\n     } ;\n    __p += \n    (obj.loop ) +\n    ';    ';\n     if (obj.useHas) {\n    __p += '\\n    }';\n     } ;\n    __p += '\\n  }  ';\n     } ;\n    \n     if (obj.arrays) {\n    __p += '\\n}';\n     } ;\n    __p += \n    (obj.bottom ) +\n    ';\\nreturn result';\n    \n    \n    return __p\n  };\n\n  /** Reusable iterator options for `assign` and `defaults` */\n  var defaultsIteratorOptions = {\n    'args': 'object, source, guard',\n    'top':\n      'var args = arguments,\\n' +\n      '    argsIndex = 0,\\n' +\n      \"    argsLength = typeof guard == 'number' ? 2 : args.length;\\n\" +\n      'while (++argsIndex < argsLength) {\\n' +\n      '  iterable = args[argsIndex];\\n' +\n      '  if (iterable && objectTypes[typeof iterable]) {',\n    'loop': \"if (typeof result[index] == 'undefined') result[index] = iterable[index]\",\n    'bottom': '  }\\n}'\n  };\n\n  /** Reusable iterator options shared by `each`, `forIn`, and `forOwn` */\n  var eachIteratorOptions = {\n    'args': 'collection, callback, thisArg',\n    'top': \"callback = callback && typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg)\",\n    'arrays': \"typeof length == 'number'\",\n    'loop': 'if (callback(iterable[index], index, collection) === false) return result'\n  };\n\n  /** Reusable iterator options for `forIn` and `forOwn` */\n  var forOwnIteratorOptions = {\n    'top': 'if (!objectTypes[typeof iterable]) return result;\\n' + eachIteratorOptions.top,\n    'arrays': false\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function optimized to search large arrays for a given `value`,\n   * starting at `fromIndex`, using strict equality for comparisons, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Mixed} value The value to search for.\n   * @param {Number} [fromIndex=0] The index to search from.\n   * @param {Number} [largeSize=30] The length at which an array is considered large.\n   * @returns {Boolean} Returns `true`, if `value` is found, else `false`.\n   */\n  function cachedContains(array, fromIndex, largeSize) {\n    fromIndex || (fromIndex = 0);\n\n    var length = array.length,\n        isLarge = (length - fromIndex) >= (largeSize || largeArraySize);\n\n    if (isLarge) {\n      var cache = {},\n          index = fromIndex - 1;\n\n      while (++index < length) {\n        // manually coerce `value` to a string because `hasOwnProperty`, in some\n        // older versions of Firefox, coerces objects incorrectly\n        var key = array[index] + '';\n        (hasOwnProperty.call(cache, key) ? cache[key] : (cache[key] = [])).push(array[index]);\n      }\n    }\n    return function(value) {\n      if (isLarge) {\n        var key = value + '';\n        return hasOwnProperty.call(cache, key) && indexOf(cache[key], value) > -1;\n      }\n      return indexOf(array, value, fromIndex) > -1;\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default `callback` when a given\n   * `collection` is a string value.\n   *\n   * @private\n   * @param {String} value The character to inspect.\n   * @returns {Number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` values, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {Number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ai = a.index,\n        bi = b.index;\n\n    a = a.criteria;\n    b = b.criteria;\n\n    // ensure a stable sort in V8 and other engines\n    // http://code.google.com/p/v8/issues/detail?id=90\n    if (a !== b) {\n      if (a > b || typeof a == 'undefined') {\n        return 1;\n      }\n      if (a < b || typeof b == 'undefined') {\n        return -1;\n      }\n    }\n    return ai < bi ? -1 : 1;\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this` binding\n   * of `thisArg` and prepends any `partialArgs` to the arguments passed to the\n   * bound function.\n   *\n   * @private\n   * @param {Function|String} func The function to bind or the method name.\n   * @param {Mixed} [thisArg] The `this` binding of `func`.\n   * @param {Array} partialArgs An array of arguments to be partially applied.\n   * @param {Object} [rightIndicator] Used to indicate partially applying arguments from the right.\n   * @returns {Function} Returns the new bound function.\n   */\n  function createBound(func, thisArg, partialArgs, rightIndicator) {\n    var isFunc = isFunction(func),\n        isPartial = !partialArgs,\n        key = thisArg;\n\n    // juggle arguments\n    if (isPartial) {\n      partialArgs = thisArg;\n    }\n    if (!isFunc) {\n      thisArg = func;\n    }\n\n    function bound() {\n      // `Function#bind` spec\n      // http://es5.github.com/#x15.3.4.5\n      var args = arguments,\n          thisBinding = isPartial ? this : thisArg;\n\n      if (!isFunc) {\n        func = thisArg[key];\n      }\n      if (partialArgs.length) {\n        args = args.length\n          ? (args = slice(args), rightIndicator ? args.concat(partialArgs) : partialArgs.concat(args))\n          : partialArgs;\n      }\n      if (this instanceof bound) {\n        // ensure `new bound` is an instance of `bound` and `func`\n        noop.prototype = func.prototype;\n        thisBinding = new noop;\n        noop.prototype = null;\n\n        // mimic the constructor's `return` behavior\n        // http://es5.github.com/#x13.2.2\n        var result = func.apply(thisBinding, args);\n        return isObject(result) ? result : thisBinding;\n      }\n      return func.apply(thisBinding, args);\n    }\n    return bound;\n  }\n\n  /**\n   * Produces a callback bound to an optional `thisArg`. If `func` is a property\n   * name, the created callback will return the property value for a given element.\n   * If `func` is an object, the created callback will return `true` for elements\n   * that contain the equivalent object properties, otherwise it will return `false`.\n   *\n   * @private\n   * @param {Mixed} [func=identity] The value to convert to a callback.\n   * @param {Mixed} [thisArg] The `this` binding of the created callback.\n   * @param {Number} [argCount=3] The number of arguments the callback accepts.\n   * @returns {Function} Returns a callback function.\n   */\n  function createCallback(func, thisArg, argCount) {\n    if (func == null) {\n      return identity;\n    }\n    var type = typeof func;\n    if (type != 'function') {\n      if (type != 'object') {\n        return function(object) {\n          return object[func];\n        };\n      }\n      var props = keys(func);\n      return function(object) {\n        var length = props.length,\n            result = false;\n        while (length--) {\n          if (!(result = isEqual(object[props[length]], func[props[length]], indicatorObject))) {\n            break;\n          }\n        }\n        return result;\n      };\n    }\n    if (typeof thisArg != 'undefined') {\n      if (argCount === 1) {\n        return function(value) {\n          return func.call(thisArg, value);\n        };\n      }\n      if (argCount === 2) {\n        return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n      }\n      if (argCount === 4) {\n        return function(accumulator, value, index, object) {\n          return func.call(thisArg, accumulator, value, index, object);\n        };\n      }\n      return function(value, index, object) {\n        return func.call(thisArg, value, index, object);\n      };\n    }\n    return func;\n  }\n\n  /**\n   * Creates compiled iteration functions.\n   *\n   * @private\n   * @param {Object} [options1, options2, ...] The compile options object(s).\n   *  arrays - A string of code to determine if the iterable is an array or array-like.\n   *  useHas - A boolean to specify using `hasOwnProperty` checks in the object loop.\n   *  args - A string of comma separated arguments the iteration function will accept.\n   *  top - A string of code to execute before the iteration branches.\n   *  loop - A string of code to execute in the object loop.\n   *  bottom - A string of code to execute after the iteration branches.\n   *\n   * @returns {Function} Returns the compiled function.\n   */\n  function createIterator() {\n    var data = {\n      // support properties\n      'isKeysFast': isKeysFast,\n\n      // iterator options\n      'arrays': 'isArray(iterable)',\n      'bottom': '',\n      'loop': '',\n      'top': '',\n      'useHas': true\n    };\n\n    // merge options into a template data object\n    for (var object, index = 0; object = arguments[index]; index++) {\n      for (var key in object) {\n        data[key] = object[key];\n      }\n    }\n    var args = data.args;\n    data.firstArg = /^[^,]+/.exec(args)[0];\n\n    // create the function factory\n    var factory = Function(\n        'createCallback, hasOwnProperty, isArguments, isArray, isString, ' +\n        'objectTypes, nativeKeys',\n      'return function(' + args + ') {\\n' + iteratorTemplate(data) + '\\n}'\n    );\n    // return the compiled function\n    return factory(\n      createCallback, hasOwnProperty, isArguments, isArray, isString,\n      objectTypes, nativeKeys\n    );\n  }\n\n  /**\n   * A function compiled to iterate `arguments` objects, arrays, objects, and\n   * strings consistenly across environments, executing the `callback` for each\n   * element in the `collection`. The `callback` is bound to `thisArg` and invoked\n   * with three arguments; (value, index|key, collection). Callbacks may exit\n   * iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @type Function\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|String} Returns `collection`.\n   */\n  var each = createIterator(eachIteratorOptions);\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {String} match The matched character to escape.\n   * @returns {String} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Used by `escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {String} match The matched character to escape.\n   * @returns {String} Returns the escaped character.\n   */\n  function escapeHtmlChar(match) {\n    return htmlEscapes[match];\n  }\n\n  /**\n   * Checks if `value` is a DOM node in IE < 9.\n   *\n   * @private\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true` if the `value` is a DOM node, else `false`.\n   */\n  function isNode(value) {\n    // IE < 9 presents DOM nodes as `Object` objects except they have `toString`\n    // methods that are `typeof` \"string\" and still can coerce nodes to strings\n    return typeof value.toString != 'function' && typeof (value + '') == 'string';\n  }\n\n  /**\n   * A no-operation function.\n   *\n   * @private\n   */\n  function noop() {\n    // no operation performed\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used, instead of `Array#slice`, to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|String} collection The collection to slice.\n   * @param {Number} start The start index.\n   * @param {Number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /**\n   * Used by `unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {String} match The matched character to unescape.\n   * @returns {String} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(match) {\n    return htmlUnescapes[match];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Checks if `value` is an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is an `arguments` object, else `false`.\n   * @example\n   *\n   * (function() { return _.isArguments(arguments); })(1, 2, 3);\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n  function isArguments(value) {\n    return toString.call(value) == argsClass;\n  }\n\n  /**\n   * Iterates over `object`'s own and inherited enumerable properties, executing\n   * the `callback` for each property. The `callback` is bound to `thisArg` and\n   * invoked with three arguments; (value, key, object). Callbacks may exit iteration\n   * early by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * function Dog(name) {\n   *   this.name = name;\n   * }\n   *\n   * Dog.prototype.bark = function() {\n   *   alert('Woof, woof!');\n   * };\n   *\n   * _.forIn(new Dog('Dagny'), function(value, key) {\n   *   alert(key);\n   * });\n   * // => alerts 'name' and 'bark' (order is not guaranteed)\n   */\n  var forIn = createIterator(eachIteratorOptions, forOwnIteratorOptions, {\n    'useHas': false\n  });\n\n  /**\n   * Iterates over an object's own enumerable properties, executing the `callback`\n   * for each property. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, key, object). Callbacks may exit iteration early by explicitly\n   * returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The object to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n   *   alert(key);\n   * });\n   * // => alerts '0', '1', and 'length' (order is not guaranteed)\n   */\n  var forOwn = createIterator(eachIteratorOptions, forOwnIteratorOptions);\n\n  /**\n   * Checks if `value` is an array.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is an array, else `false`.\n   * @example\n   *\n   * (function() { return _.isArray(arguments); })();\n   * // => false\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   */\n  var isArray = nativeIsArray || function(value) {\n    // `instanceof` may cause a memory leak in IE 7 if `value` is a host object\n    // http://ajaxian.com/archives/working-aroung-the-instanceof-memory-leak\n    return value instanceof Array || toString.call(value) == arrayClass;\n  };\n\n  /**\n   * Creates an array composed of the own enumerable property names of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns a new array of property names.\n   * @example\n   *\n   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => ['one', 'two', 'three'] (order is not guaranteed)\n   */\n  var keys = !nativeKeys ? shimKeys : function(object) {\n    if (!isObject(object)) {\n      return [];\n    }\n    return nativeKeys(object);\n  };\n\n  /**\n   * A fallback implementation of `isPlainObject` that checks if a given `value`\n   * is an object created by the `Object` constructor, assuming objects created\n   * by the `Object` constructor have no inherited enumerable properties and that\n   * there are no `Object.prototype` extensions.\n   *\n   * @private\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n   */\n  function shimIsPlainObject(value) {\n    // avoid non-objects and false positives for `arguments` objects\n    var result = false;\n    if (!(value && typeof value == 'object') || isArguments(value)) {\n      return result;\n    }\n    // check that the constructor is `Object` (i.e. `Object instanceof Object`)\n    var ctor = value.constructor;\n    if ((!isFunction(ctor)) || ctor instanceof ctor) {\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return result === false || hasOwnProperty.call(value, result);\n    }\n    return result;\n  }\n\n  /**\n   * A fallback implementation of `Object.keys` that produces an array of the\n   * given object's own enumerable property names.\n   *\n   * @private\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns a new array of property names.\n   */\n  function shimKeys(object) {\n    var result = [];\n    forOwn(object, function(value, key) {\n      result.push(key);\n    });\n    return result;\n  }\n\n  /**\n   * Used to convert characters to HTML entities:\n   *\n   * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n   * don't require escaping in HTML and have no special meaning unless they're part\n   * of a tag or an unquoted attribute value.\n   * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n   */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to convert HTML entities to characters */\n  var htmlUnescapes = invert(htmlEscapes);\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object. Subsequent sources will overwrite propery assignments of previous\n   * sources. If a `callback` function is passed, it will be executed to produce\n   * the assigned values. The `callback` is bound to `thisArg` and invoked with\n   * two arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @alias extend\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {Object} [source1, source2, ...] The source objects.\n   * @param {Function} [callback] The function to customize assigning values.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * _.assign({ 'name': 'moe' }, { 'age': 40 });\n   * // => { 'name': 'moe', 'age': 40 }\n   *\n   * var defaults = _.partialRight(_.assign, function(a, b) {\n   *   return typeof a == 'undefined' ? b : a;\n   * });\n   *\n   * var food = { 'name': 'apple' };\n   * defaults(food, { 'name': 'banana', 'type': 'fruit' });\n   * // => { 'name': 'apple', 'type': 'fruit' }\n   */\n  var assign = createIterator(defaultsIteratorOptions, {\n    'top':\n      defaultsIteratorOptions.top.replace(';',\n        ';\\n' +\n        \"if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\\n\" +\n        '  var callback = createCallback(args[--argsLength - 1], args[argsLength--], 2);\\n' +\n        \"} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\\n\" +\n        '  callback = args[--argsLength];\\n' +\n        '}'\n      ),\n    'loop': 'result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]'\n  });\n\n  /**\n   * Creates a clone of `value`. If `deep` is `true`, nested objects will also\n   * be cloned, otherwise they will be assigned by reference. If a `callback`\n   * function is passed, it will be executed to produce the cloned values. If\n   * `callback` returns `undefined`, cloning will be handled by the method instead.\n   * The `callback` is bound to `thisArg` and invoked with one argument; (value).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to clone.\n   * @param {Boolean} [deep=false] A flag to indicate a deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @param- {Array} [stackA=[]] Internally used to track traversed source objects.\n   * @param- {Array} [stackB=[]] Internally used to associate clones with source counterparts.\n   * @returns {Mixed} Returns the cloned `value`.\n   * @example\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * var shallow = _.clone(stooges);\n   * shallow[0] === stooges[0];\n   * // => true\n   *\n   * var deep = _.clone(stooges, true);\n   * deep[0] === stooges[0];\n   * // => false\n   *\n   * _.mixin({\n   *   'clone': _.partialRight(_.clone, function(value) {\n   *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n   *   })\n   * });\n   *\n   * var clone = _.clone(document.body);\n   * clone.childNodes.length;\n   * // => 0\n   */\n  function clone(value, deep, callback, thisArg, stackA, stackB) {\n    var result = value;\n\n    // allows working with \"Collections\" methods without using their `callback`\n    // argument, `index|key`, for this method's `callback`\n    if (typeof deep == 'function') {\n      thisArg = callback;\n      callback = deep;\n      deep = false;\n    }\n    if (typeof callback == 'function') {\n      callback = typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg, 1);\n      result = callback(result);\n\n      var done = typeof result != 'undefined';\n      if (!done) {\n        result = value;\n      }\n    }\n    // inspect [[Class]]\n    var isObj = isObject(result);\n    if (isObj) {\n      var className = toString.call(result);\n      if (!cloneableClasses[className]) {\n        return result;\n      }\n      var isArr = isArray(result);\n    }\n    // shallow clone\n    if (!isObj || !deep) {\n      return isObj && !done\n        ? (isArr ? slice(result) : assign({}, result))\n        : result;\n    }\n    var ctor = ctorByClass[className];\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        return done ? result : new ctor(+result);\n\n      case numberClass:\n      case stringClass:\n        return done ? result : new ctor(result);\n\n      case regexpClass:\n        return done ? result : ctor(result.source, reFlags.exec(result));\n    }\n    // check for circular references and return corresponding clone\n    stackA || (stackA = []);\n    stackB || (stackB = []);\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == value) {\n        return stackB[length];\n      }\n    }\n    // init cloned object\n    if (!done) {\n      result = isArr ? ctor(result.length) : {};\n\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n    }\n    // add the source value to the stack of traversed objects\n    // and associate it with its clone\n    stackA.push(value);\n    stackB.push(result);\n\n    // recursively populate clone (susceptible to call stack limits)\n    (isArr ? forEach : forOwn)(done ? result : value, function(objValue, key) {\n      result[key] = clone(objValue, deep, callback, undefined, stackA, stackB);\n    });\n\n    return result;\n  }\n\n  /**\n   * Creates a deep clone of `value`. If a `callback` function is passed, it will\n   * be executed to produce the cloned values. If `callback` returns the value it\n   * was passed, cloning will be handled by the method instead. The `callback` is\n   * bound to `thisArg` and invoked with one argument; (value).\n   *\n   * Note: This function is loosely based on the structured clone algorithm. Functions\n   * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n   * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n   * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to deep clone.\n   * @param {Function} [callback] The function to customize cloning values.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the deep cloned `value`.\n   * @example\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * var deep = _.cloneDeep(stooges);\n   * deep[0] === stooges[0];\n   * // => false\n   *\n   * var view = {\n   *   'label': 'docs',\n   *   'node': element\n   * };\n   *\n   * var clone = _.cloneDeep(view, function(value) {\n   *   return _.isElement(value) ? value.cloneNode(true) : value;\n   * });\n   *\n   * clone.node == view.node;\n   * // => false\n   */\n  function cloneDeep(value, callback, thisArg) {\n    return clone(value, true, callback, thisArg);\n  }\n\n  /**\n   * Assigns own enumerable properties of source object(s) to the destination\n   * object for all destination properties that resolve to `undefined`. Once a\n   * property is set, additional defaults of the same property will be ignored.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {Object} [source1, source2, ...] The source objects.\n   * @param- {Object} [guard] Internally used to allow working with `_.reduce`\n   *  without using its callback's `key` and `object` arguments as sources.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var food = { 'name': 'apple' };\n   * _.defaults(food, { 'name': 'banana', 'type': 'fruit' });\n   * // => { 'name': 'apple', 'type': 'fruit' }\n   */\n  var defaults = createIterator(defaultsIteratorOptions);\n\n  /**\n   * Creates a sorted array of all enumerable properties, own and inherited,\n   * of `object` that have function values.\n   *\n   * @static\n   * @memberOf _\n   * @alias methods\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns a new array of property names that have function values.\n   * @example\n   *\n   * _.functions(_);\n   * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n   */\n  function functions(object) {\n    var result = [];\n    forIn(object, function(value, key) {\n      if (isFunction(value)) {\n        result.push(key);\n      }\n    });\n    return result.sort();\n  }\n\n  /**\n   * Checks if the specified object `property` exists and is a direct property,\n   * instead of an inherited property.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to check.\n   * @param {String} property The property to check for.\n   * @returns {Boolean} Returns `true` if key is a direct property, else `false`.\n   * @example\n   *\n   * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n   * // => true\n   */\n  function has(object, property) {\n    return object ? hasOwnProperty.call(object, property) : false;\n  }\n\n  /**\n   * Creates an object composed of the inverted keys and values of the given `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to invert.\n   * @returns {Object} Returns the created inverted object.\n   * @example\n   *\n   *  _.invert({ 'first': 'moe', 'second': 'larry' });\n   * // => { 'moe': 'first', 'larry': 'second' } (order is not guaranteed)\n   */\n  function invert(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = {};\n\n    while (++index < length) {\n      var key = props[index];\n      result[object[key]] = key;\n    }\n    return result;\n  }\n\n  /**\n   * Checks if `value` is a boolean value.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a boolean value, else `false`.\n   * @example\n   *\n   * _.isBoolean(null);\n   * // => false\n   */\n  function isBoolean(value) {\n    return value === true || value === false || toString.call(value) == boolClass;\n  }\n\n  /**\n   * Checks if `value` is a date.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a date, else `false`.\n   * @example\n   *\n   * _.isDate(new Date);\n   * // => true\n   */\n  function isDate(value) {\n    return value instanceof Date || toString.call(value) == dateClass;\n  }\n\n  /**\n   * Checks if `value` is a DOM element.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a DOM element, else `false`.\n   * @example\n   *\n   * _.isElement(document.body);\n   * // => true\n   */\n  function isElement(value) {\n    return value ? value.nodeType === 1 : false;\n  }\n\n  /**\n   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n   * length of `0` and objects with no own enumerable properties are considered\n   * \"empty\".\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Array|Object|String} value The value to inspect.\n   * @returns {Boolean} Returns `true`, if the `value` is empty, else `false`.\n   * @example\n   *\n   * _.isEmpty([1, 2, 3]);\n   * // => false\n   *\n   * _.isEmpty({});\n   * // => true\n   *\n   * _.isEmpty('');\n   * // => true\n   */\n  function isEmpty(value) {\n    var result = true;\n    if (!value) {\n      return result;\n    }\n    var className = toString.call(value),\n        length = value.length;\n\n    if ((className == arrayClass || className == stringClass ||\n        className == argsClass) ||\n        (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n      return !length;\n    }\n    forOwn(value, function() {\n      return (result = false);\n    });\n    return result;\n  }\n\n  /**\n   * Performs a deep comparison between two values to determine if they are\n   * equivalent to each other. If `callback` is passed, it will be executed to\n   * compare values. If `callback` returns `undefined`, comparisons will be handled\n   * by the method instead. The `callback` is bound to `thisArg` and invoked with\n   * two arguments; (a, b).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} a The value to compare.\n   * @param {Mixed} b The other value to compare.\n   * @param {Function} [callback] The function to customize comparing values.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @param- {Object} [stackA=[]] Internally used track traversed `a` objects.\n   * @param- {Object} [stackB=[]] Internally used track traversed `b` objects.\n   * @returns {Boolean} Returns `true`, if the values are equvalent, else `false`.\n   * @example\n   *\n   * var moe = { 'name': 'moe', 'age': 40 };\n   * var copy = { 'name': 'moe', 'age': 40 };\n   *\n   * moe == copy;\n   * // => false\n   *\n   * _.isEqual(moe, copy);\n   * // => true\n   *\n   * var words = ['hello', 'goodbye'];\n   * var otherWords = ['hi', 'goodbye'];\n   *\n   * _.isEqual(words, otherWords, function(a, b) {\n   *   var reGreet = /^(?:hello|hi)$/i,\n   *       aGreet = _.isString(a) && reGreet.test(a),\n   *       bGreet = _.isString(b) && reGreet.test(b);\n   *\n   *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n   * });\n   * // => true\n   */\n  function isEqual(a, b, callback, thisArg, stackA, stackB) {\n    // used to indicate that when comparing objects, `a` has at least the properties of `b`\n    var whereIndicator = callback === indicatorObject;\n    if (callback && !whereIndicator) {\n      callback = typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg, 2);\n      var result = callback(a, b);\n      if (typeof result != 'undefined') {\n        return !!result;\n      }\n    }\n    // exit early for identical values\n    if (a === b) {\n      // treat `+0` vs. `-0` as not equal\n      return a !== 0 || (1 / a == 1 / b);\n    }\n    var type = typeof a,\n        otherType = typeof b;\n\n    // exit early for unlike primitive values\n    if (a === a &&\n        (!a || (type != 'function' && type != 'object')) &&\n        (!b || (otherType != 'function' && otherType != 'object'))) {\n      return false;\n    }\n    // exit early for `null` and `undefined`, avoiding ES3's Function#call behavior\n    // http://es5.github.com/#x15.3.4.4\n    if (a == null || b == null) {\n      return a === b;\n    }\n    // compare [[Class]] names\n    var className = toString.call(a),\n        otherClass = toString.call(b);\n\n    if (className == argsClass) {\n      className = objectClass;\n    }\n    if (otherClass == argsClass) {\n      otherClass = objectClass;\n    }\n    if (className != otherClass) {\n      return false;\n    }\n    switch (className) {\n      case boolClass:\n      case dateClass:\n        // coerce dates and booleans to numbers, dates to milliseconds and booleans\n        // to `1` or `0`, treating invalid dates coerced to `NaN` as not equal\n        return +a == +b;\n\n      case numberClass:\n        // treat `NaN` vs. `NaN` as equal\n        return a != +a\n          ? b != +b\n          // but treat `+0` vs. `-0` as not equal\n          : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n      case regexpClass:\n      case stringClass:\n        // coerce regexes to strings (http://es5.github.com/#x15.10.6.4)\n        // treat string primitives and their corresponding object instances as equal\n        return a == b + '';\n    }\n    var isArr = className == arrayClass;\n    if (!isArr) {\n      // unwrap any `lodash` wrapped values\n      if (a.__wrapped__ || b.__wrapped__) {\n        return isEqual(a.__wrapped__ || a, b.__wrapped__ || b, callback, thisArg, stackA, stackB);\n      }\n      // exit for functions and DOM nodes\n      if (className != objectClass) {\n        return false;\n      }\n      // in older versions of Opera, `arguments` objects have `Array` constructors\n      var ctorA = a.constructor,\n          ctorB = b.constructor;\n\n      // non `Object` object instances with different constructors are not equal\n      if (ctorA != ctorB && !(\n            isFunction(ctorA) && ctorA instanceof ctorA &&\n            isFunction(ctorB) && ctorB instanceof ctorB\n          )) {\n        return false;\n      }\n    }\n    // assume cyclic structures are equal\n    // the algorithm for detecting cyclic structures is adapted from ES 5.1\n    // section 15.12.3, abstract operation `JO` (http://es5.github.com/#x15.12.3)\n    stackA || (stackA = []);\n    stackB || (stackB = []);\n\n    var length = stackA.length;\n    while (length--) {\n      if (stackA[length] == a) {\n        return stackB[length] == b;\n      }\n    }\n    var size = 0;\n    result = true;\n\n    // add `a` and `b` to the stack of traversed objects\n    stackA.push(a);\n    stackB.push(b);\n\n    // recursively compare objects and arrays (susceptible to call stack limits)\n    if (isArr) {\n      length = a.length;\n      size = b.length;\n\n      // compare lengths to determine if a deep comparison is necessary\n      result = size == a.length;\n      if (!result && !whereIndicator) {\n        return result;\n      }\n      // deep compare the contents, ignoring non-numeric properties\n      while (size--) {\n        var index = length,\n            value = b[size];\n\n        if (whereIndicator) {\n          while (index--) {\n            if ((result = isEqual(a[index], value, callback, thisArg, stackA, stackB))) {\n              break;\n            }\n          }\n        } else if (!(result = isEqual(a[size], value, callback, thisArg, stackA, stackB))) {\n          break;\n        }\n      }\n      return result;\n    }\n    // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n    // which, in this case, is more costly\n    forIn(b, function(value, key, b) {\n      if (hasOwnProperty.call(b, key)) {\n        // count the number of properties.\n        size++;\n        // deep compare each property value.\n        return (result = hasOwnProperty.call(a, key) && isEqual(a[key], value, callback, thisArg, stackA, stackB));\n      }\n    });\n\n    if (result && !whereIndicator) {\n      // ensure both objects have the same number of properties\n      forIn(a, function(value, key, a) {\n        if (hasOwnProperty.call(a, key)) {\n          // `size` will be `-1` if `a` has more properties than `b`\n          return (result = --size > -1);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Checks if `value` is, or can be coerced to, a finite number.\n   *\n   * Note: This is not the same as native `isFinite`, which will return true for\n   * booleans and empty strings. See http://es5.github.com/#x15.1.2.5.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is finite, else `false`.\n   * @example\n   *\n   * _.isFinite(-101);\n   * // => true\n   *\n   * _.isFinite('10');\n   * // => true\n   *\n   * _.isFinite(true);\n   * // => false\n   *\n   * _.isFinite('');\n   * // => false\n   *\n   * _.isFinite(Infinity);\n   * // => false\n   */\n  function isFinite(value) {\n    return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n  }\n\n  /**\n   * Checks if `value` is a function.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   */\n  function isFunction(value) {\n    return typeof value == 'function';\n  }\n  // fallback for older versions of Chrome and Safari\n  if (isFunction(/x/)) {\n    isFunction = function(value) {\n      return value instanceof Function || toString.call(value) == funcClass;\n    };\n  }\n\n  /**\n   * Checks if `value` is the language type of Object.\n   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(1);\n   * // => false\n   */\n  function isObject(value) {\n    // check if the value is the ECMAScript language type of Object\n    // http://es5.github.com/#x8\n    // and avoid a V8 bug\n    // http://code.google.com/p/v8/issues/detail?id=2291\n    return value ? objectTypes[typeof value] : false;\n  }\n\n  /**\n   * Checks if `value` is `NaN`.\n   *\n   * Note: This is not the same as native `isNaN`, which will return `true` for\n   * `undefined` and other values. See http://es5.github.com/#x15.1.2.4.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is `NaN`, else `false`.\n   * @example\n   *\n   * _.isNaN(NaN);\n   * // => true\n   *\n   * _.isNaN(new Number(NaN));\n   * // => true\n   *\n   * isNaN(undefined);\n   * // => true\n   *\n   * _.isNaN(undefined);\n   * // => false\n   */\n  function isNaN(value) {\n    // `NaN` as a primitive is the only value that is not equal to itself\n    // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n    return isNumber(value) && value != +value\n  }\n\n  /**\n   * Checks if `value` is `null`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is `null`, else `false`.\n   * @example\n   *\n   * _.isNull(null);\n   * // => true\n   *\n   * _.isNull(undefined);\n   * // => false\n   */\n  function isNull(value) {\n    return value === null;\n  }\n\n  /**\n   * Checks if `value` is a number.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a number, else `false`.\n   * @example\n   *\n   * _.isNumber(8.4 * 5);\n   * // => true\n   */\n  function isNumber(value) {\n    return typeof value == 'number' || toString.call(value) == numberClass;\n  }\n\n  /**\n   * Checks if a given `value` is an object created by the `Object` constructor.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if `value` is a plain object, else `false`.\n   * @example\n   *\n   * function Stooge(name, age) {\n   *   this.name = name;\n   *   this.age = age;\n   * }\n   *\n   * _.isPlainObject(new Stooge('moe', 40));\n   * // => false\n   *\n   * _.isPlainObject([1, 2, 3]);\n   * // => false\n   *\n   * _.isPlainObject({ 'name': 'moe', 'age': 40 });\n   * // => true\n   */\n  var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n    if (!(value && typeof value == 'object')) {\n      return false;\n    }\n    var valueOf = value.valueOf,\n        objProto = typeof valueOf == 'function' && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n    return objProto\n      ? value == objProto || (getPrototypeOf(value) == objProto && !isArguments(value))\n      : shimIsPlainObject(value);\n  };\n\n  /**\n   * Checks if `value` is a regular expression.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a regular expression, else `false`.\n   * @example\n   *\n   * _.isRegExp(/moe/);\n   * // => true\n   */\n  function isRegExp(value) {\n    return value instanceof RegExp || toString.call(value) == regexpClass;\n  }\n\n  /**\n   * Checks if `value` is a string.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is a string, else `false`.\n   * @example\n   *\n   * _.isString('moe');\n   * // => true\n   */\n  function isString(value) {\n    return typeof value == 'string' || toString.call(value) == stringClass;\n  }\n\n  /**\n   * Checks if `value` is `undefined`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Mixed} value The value to check.\n   * @returns {Boolean} Returns `true`, if the `value` is `undefined`, else `false`.\n   * @example\n   *\n   * _.isUndefined(void 0);\n   * // => true\n   */\n  function isUndefined(value) {\n    return typeof value == 'undefined';\n  }\n\n  /**\n   * Recursively merges own enumerable properties of the source object(s), that\n   * don't resolve to `undefined`, into the destination object. Subsequent sources\n   * will overwrite propery assignments of previous sources. If a `callback` function\n   * is passed, it will be executed to produce the merged values of the destination\n   * and source properties. If `callback` returns `undefined`, merging will be\n   * handled by the method instead. The `callback` is bound to `thisArg` and\n   * invoked with two arguments; (objectValue, sourceValue).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The destination object.\n   * @param {Object} [source1, source2, ...] The source objects.\n   * @param {Function} [callback] The function to customize merging properties.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @param- {Object} [deepIndicator] Internally used to indicate that `stackA`\n   *  and `stackB` are arrays of traversed objects instead of source objects.\n   * @param- {Array} [stackA=[]] Internally used to track traversed source objects.\n   * @param- {Array} [stackB=[]] Internally used to associate values with their\n   *  source counterparts.\n   * @returns {Object} Returns the destination object.\n   * @example\n   *\n   * var names = {\n   *   'stooges': [\n   *     { 'name': 'moe' },\n   *     { 'name': 'larry' }\n   *   ]\n   * };\n   *\n   * var ages = {\n   *   'stooges': [\n   *     { 'age': 40 },\n   *     { 'age': 50 }\n   *   ]\n   * };\n   *\n   * _.merge(names, ages);\n   * // => { 'stooges': [{ 'name': 'moe', 'age': 40 }, { 'name': 'larry', 'age': 50 }] }\n   *\n   * var food = {\n   *   'fruits': ['apple'],\n   *   'vegetables': ['beet']\n   * };\n   *\n   * var otherFood = {\n   *   'fruits': ['banana'],\n   *   'vegetables': ['carrot']\n   * };\n   *\n   * _.merge(food, otherFood, function(a, b) {\n   *   return _.isArray(a) ? a.concat(b) : undefined;\n   * });\n   * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n   */\n  function merge(object, source, deepIndicator) {\n    var args = arguments,\n        index = 0,\n        length = 2;\n\n    if (!isObject(object)) {\n      return object;\n    }\n    if (deepIndicator === indicatorObject) {\n      var callback = args[3],\n          stackA = args[4],\n          stackB = args[5];\n    } else {\n      stackA = [];\n      stackB = [];\n\n      // allows working with `_.reduce` and `_.reduceRight` without\n      // using their `callback` arguments, `index|key` and `collection`\n      if (typeof deepIndicator != 'number') {\n        length = args.length;\n      }\n      if (length > 3 && typeof args[length - 2] == 'function') {\n        callback = createCallback(args[--length - 1], args[length--], 2);\n      } else if (length > 2 && typeof args[length - 1] == 'function') {\n        callback = args[--length];\n      }\n    }\n    while (++index < length) {\n      (isArray(args[index]) ? forEach : forOwn)(args[index], function(source, key) {\n        var found,\n            isArr,\n            result = source,\n            value = object[key];\n\n        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n          // avoid merging previously merged cyclic sources\n          var stackLength = stackA.length;\n          while (stackLength--) {\n            if ((found = stackA[stackLength] == source)) {\n              value = stackB[stackLength];\n              break;\n            }\n          }\n          if (!found) {\n            value = isArr\n              ? (isArray(value) ? value : [])\n              : (isPlainObject(value) ? value : {});\n\n            if (callback) {\n              result = callback(value, source);\n              if (typeof result != 'undefined') {\n                value = result;\n              }\n            }\n            // add `source` and associated `value` to the stack of traversed objects\n            stackA.push(source);\n            stackB.push(value);\n\n            // recursively merge objects and arrays (susceptible to call stack limits)\n            if (!callback) {\n              value = merge(value, source, indicatorObject, callback, stackA, stackB);\n            }\n          }\n        }\n        else {\n          if (callback) {\n            result = callback(value, source);\n            if (typeof result == 'undefined') {\n              result = source;\n            }\n          }\n          if (typeof result != 'undefined') {\n            value = result;\n          }\n        }\n        object[key] = value;\n      });\n    }\n    return object;\n  }\n\n  /**\n   * Creates a shallow clone of `object` excluding the specified properties.\n   * Property names may be specified as individual arguments or as arrays of\n   * property names. If a `callback` function is passed, it will be executed\n   * for each property in the `object`, omitting the properties `callback`\n   * returns truthy for. The `callback` is bound to `thisArg` and invoked\n   * with three arguments; (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Function|String} callback|[prop1, prop2, ...] The properties to omit\n   *  or the function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object without the omitted properties.\n   * @example\n   *\n   * _.omit({ 'name': 'moe', 'age': 40 }, 'age');\n   * // => { 'name': 'moe' }\n   *\n   * _.omit({ 'name': 'moe', 'age': 40 }, function(value) {\n   *   return typeof value == 'number';\n   * });\n   * // => { 'name': 'moe' }\n   */\n  function omit(object, callback, thisArg) {\n    var isFunc = typeof callback == 'function',\n        result = {};\n\n    if (isFunc) {\n      callback = createCallback(callback, thisArg);\n    } else {\n      var props = concat.apply(arrayRef, arguments);\n    }\n    forIn(object, function(value, key, object) {\n      if (isFunc\n            ? !callback(value, key, object)\n            : indexOf(props, key, 1) < 0\n          ) {\n        result[key] = value;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * Creates a two dimensional array of the given object's key-value pairs,\n   * i.e. `[[key1, value1], [key2, value2]]`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns new array of key-value pairs.\n   * @example\n   *\n   * _.pairs({ 'moe': 30, 'larry': 40 });\n   * // => [['moe', 30], ['larry', 40]] (order is not guaranteed)\n   */\n  function pairs(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      var key = props[index];\n      result[index] = [key, object[key]];\n    }\n    return result;\n  }\n\n  /**\n   * Creates a shallow clone of `object` composed of the specified properties.\n   * Property names may be specified as individual arguments or as arrays of property\n   * names. If `callback` is passed, it will be executed for each property in the\n   * `object`, picking the properties `callback` returns truthy for. The `callback`\n   * is bound to `thisArg` and invoked with three arguments; (value, key, object).\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The source object.\n   * @param {Array|Function|String} callback|[prop1, prop2, ...] The function called\n   *  per iteration or properties to pick, either as individual arguments or arrays.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns an object composed of the picked properties.\n   * @example\n   *\n   * _.pick({ 'name': 'moe', '_userid': 'moe1' }, 'name');\n   * // => { 'name': 'moe' }\n   *\n   * _.pick({ 'name': 'moe', '_userid': 'moe1' }, function(value, key) {\n   *   return key.charAt(0) != '_';\n   * });\n   * // => { 'name': 'moe' }\n   */\n  function pick(object, callback, thisArg) {\n    var result = {};\n    if (typeof callback != 'function') {\n      var index = 0,\n          props = concat.apply(arrayRef, arguments),\n          length = isObject(object) ? props.length : 0;\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n    } else {\n      callback = createCallback(callback, thisArg);\n      forIn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result[key] = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array composed of the own enumerable property values of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @category Objects\n   * @param {Object} object The object to inspect.\n   * @returns {Array} Returns a new array of property values.\n   * @example\n   *\n   * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => [1, 2, 3]\n   */\n  function values(object) {\n    var index = -1,\n        props = keys(object),\n        length = props.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = object[props[index]];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array of elements from the specified indexes, or keys, of the\n   * `collection`. Indexes may be specified as individual arguments or as arrays\n   * of indexes.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Array|Number|String} [index1, index2, ...] The indexes of\n   *  `collection` to retrieve, either as individual arguments or arrays.\n   * @returns {Array} Returns a new array of elements corresponding to the\n   *  provided indexes.\n   * @example\n   *\n   * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n   * // => ['a', 'c', 'e']\n   *\n   * _.at(['moe', 'larry', 'curly'], 0, 2);\n   * // => ['moe', 'curly']\n   */\n  function at(collection) {\n    var index = -1,\n        props = concat.apply(arrayRef, slice(arguments, 1)),\n        length = props.length,\n        result = Array(length);\n\n    while(++index < length) {\n      result[index] = collection[props[index]];\n    }\n    return result;\n  }\n\n  /**\n   * Checks if a given `target` element is present in a `collection` using strict\n   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n   * as the offset from the end of the collection.\n   *\n   * @static\n   * @memberOf _\n   * @alias include\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Mixed} target The value to check for.\n   * @param {Number} [fromIndex=0] The index to search from.\n   * @returns {Boolean} Returns `true` if the `target` element is found, else `false`.\n   * @example\n   *\n   * _.contains([1, 2, 3], 1);\n   * // => true\n   *\n   * _.contains([1, 2, 3], 1, 2);\n   * // => false\n   *\n   * _.contains({ 'name': 'moe', 'age': 40 }, 'moe');\n   * // => true\n   *\n   * _.contains('curly', 'ur');\n   * // => true\n   */\n  function contains(collection, target, fromIndex) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = false;\n\n    fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n    if (typeof length == 'number') {\n      result = (isString(collection)\n        ? collection.indexOf(target, fromIndex)\n        : indexOf(collection, target, fromIndex)\n      ) > -1;\n    } else {\n      each(collection, function(value) {\n        if (++index >= fromIndex) {\n          return !(result = value === target);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Creates an object composed of keys returned from running each element of the\n   * `collection` through the given `callback`. The corresponding value of each key\n   * is the number of times the key was returned by the `callback`. The `callback`\n   * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': 1, '6': 2 }\n   *\n   * _.countBy(['one', 'two', 'three'], 'length');\n   * // => { '3': 2, '5': 1 }\n   */\n  function countBy(collection, callback, thisArg) {\n    var result = {};\n    callback = createCallback(callback, thisArg);\n\n    forEach(collection, function(value, key, collection) {\n      key = callback(value, key, collection) + '';\n      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n    });\n    return result;\n  }\n\n  /**\n   * Checks if the `callback` returns a truthy value for **all** elements of a\n   * `collection`. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias all\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Boolean} Returns `true` if all elements pass the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.every([true, 1, null, 'yes'], Boolean);\n   * // => false\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.every(stooges, 'age');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.every(stooges, { 'age': 50 });\n   * // => false\n   */\n  function every(collection, callback, thisArg) {\n    var result = true;\n    callback = createCallback(callback, thisArg);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if (!(result = !!callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      each(collection, function(value, index, collection) {\n        return (result = !!callback(value, index, collection));\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Examines each element in a `collection`, returning an array of all elements\n   * the `callback` returns truthy for. The `callback` is bound to `thisArg` and\n   * invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias select\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that passed the callback check.\n   * @example\n   *\n   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [2, 4, 6]\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.filter(food, 'organic');\n   * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.filter(food, { 'type': 'fruit' });\n   * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n   */\n  function filter(collection, callback, thisArg) {\n    var result = [];\n    callback = createCallback(callback, thisArg);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      }\n    } else {\n      each(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result.push(value);\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Examines each element in a `collection`, returning the first that the `callback`\n   * returns truthy for. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias detect\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the element that passed the callback check,\n   *  else `undefined`.\n   * @example\n   *\n   * var even = _.find([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => 2\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },\n   *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' },\n   *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.where\" callback shorthand\n   * var veggie = _.find(food, { 'type': 'vegetable' });\n   * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * var healthy = _.find(food, 'organic');\n   * // => { 'name': 'banana', 'organic': true, 'type': 'fruit' }\n   */\n  function find(collection, callback, thisArg) {\n    var result;\n    callback = createCallback(callback, thisArg);\n\n    forEach(collection, function(value, index, collection) {\n      if (callback(value, index, collection)) {\n        result = value;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * Iterates over a `collection`, executing the `callback` for each element in\n   * the `collection`. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection). Callbacks may exit iteration early\n   * by explicitly returning `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias each\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array|Object|String} Returns `collection`.\n   * @example\n   *\n   * _([1, 2, 3]).forEach(alert).join(',');\n   * // => alerts each number and returns '1,2,3'\n   *\n   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, alert);\n   * // => alerts each number value (order is not guaranteed)\n   */\n  function forEach(collection, callback, thisArg) {\n    if (callback && typeof thisArg == 'undefined' && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if (callback(collection[index], index, collection) === false) {\n          break;\n        }\n      }\n    } else {\n      each(collection, callback, thisArg);\n    }\n    return collection;\n  }\n\n  /**\n   * Creates an object composed of keys returned from running each element of the\n   * `collection` through the `callback`. The corresponding value of each key is\n   * an array of elements passed to `callback` that returned the key. The `callback`\n   * is bound to `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Object} Returns the composed aggregate object.\n   * @example\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n   * // => { '4': [4.2], '6': [6.1, 6.4] }\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.groupBy(['one', 'two', 'three'], 'length');\n   * // => { '3': ['one', 'two'], '5': ['three'] }\n   */\n  function groupBy(collection, callback, thisArg) {\n    var result = {};\n    callback = createCallback(callback, thisArg);\n\n    forEach(collection, function(value, key, collection) {\n      key = callback(value, key, collection) + '';\n      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n    });\n    return result;\n  }\n\n  /**\n   * Invokes the method named by `methodName` on each element in the `collection`,\n   * returning an array of the results of each invoked method. Additional arguments\n   * will be passed to each invoked method. If `methodName` is a function, it will\n   * be invoked for, and `this` bound to, each element in the `collection`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|String} methodName The name of the method to invoke or\n   *  the function invoked per iteration.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the method with.\n   * @returns {Array} Returns a new array of the results of each invoked method.\n   * @example\n   *\n   * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n   * // => [[1, 5, 7], [1, 2, 3]]\n   *\n   * _.invoke([123, 456], String.prototype.split, '');\n   * // => [['1', '2', '3'], ['4', '5', '6']]\n   */\n  function invoke(collection, methodName) {\n    var args = slice(arguments, 2),\n        index = -1,\n        isFunc = typeof methodName == 'function',\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n    });\n    return result;\n  }\n\n  /**\n   * Creates an array of values by running each element in the `collection`\n   * through the `callback`. The `callback` is bound to `thisArg` and invoked with\n   * three arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias collect\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of the results of each `callback` execution.\n   * @example\n   *\n   * _.map([1, 2, 3], function(num) { return num * 3; });\n   * // => [3, 6, 9]\n   *\n   * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n   * // => [3, 6, 9] (order is not guaranteed)\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.map(stooges, 'name');\n   * // => ['moe', 'larry']\n   */\n  function map(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    callback = createCallback(callback, thisArg);\n    if (isArray(collection)) {\n      while (++index < length) {\n        result[index] = callback(collection[index], index, collection);\n      }\n    } else {\n      each(collection, function(value, key, collection) {\n        result[++index] = callback(value, key, collection);\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the maximum value of an `array`. If `callback` is passed,\n   * it will be executed for each value in the `array` to generate the\n   * criterion by which the value is ranked. The `callback` is bound to\n   * `thisArg` and invoked with three arguments; (value, index, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the maximum value.\n   * @example\n   *\n   * _.max([4, 2, 8, 6]);\n   * // => 8\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * _.max(stooges, function(stooge) { return stooge.age; });\n   * // => { 'name': 'larry', 'age': 50 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.max(stooges, 'age');\n   * // => { 'name': 'larry', 'age': 50 };\n   */\n  function max(collection, callback, thisArg) {\n    var computed = -Infinity,\n        result = computed;\n\n    if (!callback && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = !callback && isString(collection)\n        ? charAtCallback\n        : createCallback(callback, thisArg);\n\n      each(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current > computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the minimum value of an `array`. If `callback` is passed,\n   * it will be executed for each value in the `array` to generate the\n   * criterion by which the value is ranked. The `callback` is bound to `thisArg`\n   * and invoked with three arguments; (value, index, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the minimum value.\n   * @example\n   *\n   * _.min([4, 2, 8, 6]);\n   * // => 2\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * _.min(stooges, function(stooge) { return stooge.age; });\n   * // => { 'name': 'moe', 'age': 40 };\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.min(stooges, 'age');\n   * // => { 'name': 'moe', 'age': 40 };\n   */\n  function min(collection, callback, thisArg) {\n    var computed = Infinity,\n        result = computed;\n\n    if (!callback && isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        var value = collection[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      callback = !callback && isString(collection)\n        ? charAtCallback\n        : createCallback(callback, thisArg);\n\n      each(collection, function(value, index, collection) {\n        var current = callback(value, index, collection);\n        if (current < computed) {\n          computed = current;\n          result = value;\n        }\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Retrieves the value of a specified property from all elements in the `collection`.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {String} property The property to pluck.\n   * @returns {Array} Returns a new array of property values.\n   * @example\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * _.pluck(stooges, 'name');\n   * // => ['moe', 'larry']\n   */\n  var pluck = map;\n\n  /**\n   * Reduces a `collection` to a value that is the accumulated result of running\n   * each element in the `collection` through the `callback`, where each successive\n   * `callback` execution consumes the return value of the previous execution.\n   * If `accumulator` is not passed, the first element of the `collection` will be\n   * used as the initial `accumulator` value. The `callback` is bound to `thisArg`\n   * and invoked with four arguments; (accumulator, value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @alias foldl, inject\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [accumulator] Initial value of the accumulator.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the accumulated value.\n   * @example\n   *\n   * var sum = _.reduce([1, 2, 3], function(sum, num) {\n   *   return sum + num;\n   * });\n   * // => 6\n   *\n   * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n   *   result[key] = num * 3;\n   *   return result;\n   * }, {});\n   * // => { 'a': 3, 'b': 6, 'c': 9 }\n   */\n  function reduce(collection, callback, accumulator, thisArg) {\n    var noaccum = arguments.length < 3;\n    callback = createCallback(callback, thisArg, 4);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      if (noaccum) {\n        accumulator = collection[++index];\n      }\n      while (++index < length) {\n        accumulator = callback(accumulator, collection[index], index, collection);\n      }\n    } else {\n      each(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection)\n      });\n    }\n    return accumulator;\n  }\n\n  /**\n   * This method is similar to `_.reduce`, except that it iterates over a\n   * `collection` from right to left.\n   *\n   * @static\n   * @memberOf _\n   * @alias foldr\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function} [callback=identity] The function called per iteration.\n   * @param {Mixed} [accumulator] Initial value of the accumulator.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the accumulated value.\n   * @example\n   *\n   * var list = [[0, 1], [2, 3], [4, 5]];\n   * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n   * // => [4, 5, 2, 3, 0, 1]\n   */\n  function reduceRight(collection, callback, accumulator, thisArg) {\n    var iterable = collection,\n        length = collection ? collection.length : 0,\n        noaccum = arguments.length < 3;\n\n    if (typeof length != 'number') {\n      var props = keys(collection);\n      length = props.length;\n    }\n    callback = createCallback(callback, thisArg, 4);\n    forEach(collection, function(value, index, collection) {\n      index = props ? props[--length] : --length;\n      accumulator = noaccum\n        ? (noaccum = false, iterable[index])\n        : callback(accumulator, iterable[index], index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The opposite of `_.filter`, this method returns the elements of a\n   * `collection` that `callback` does **not** return truthy for.\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of elements that did **not** pass the\n   *  callback check.\n   * @example\n   *\n   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n   * // => [1, 3, 5]\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.reject(food, 'organic');\n   * // => [{ 'name': 'apple', 'organic': false, 'type': 'fruit' }]\n   *\n   * // using \"_.where\" callback shorthand\n   * _.reject(food, { 'type': 'fruit' });\n   * // => [{ 'name': 'carrot', 'organic': true, 'type': 'vegetable' }]\n   */\n  function reject(collection, callback, thisArg) {\n    callback = createCallback(callback, thisArg);\n    return filter(collection, function(value, index, collection) {\n      return !callback(value, index, collection);\n    });\n  }\n\n  /**\n   * Creates an array of shuffled `array` values, using a version of the\n   * Fisher-Yates shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to shuffle.\n   * @returns {Array} Returns a new shuffled collection.\n   * @example\n   *\n   * _.shuffle([1, 2, 3, 4, 5, 6]);\n   * // => [4, 1, 6, 3, 5, 2]\n   */\n  function shuffle(collection) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    forEach(collection, function(value) {\n      var rand = floor(nativeRandom() * (++index + 1));\n      result[index] = result[rand];\n      result[rand] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Gets the size of the `collection` by returning `collection.length` for arrays\n   * and array-like objects or the number of own enumerable properties for objects.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to inspect.\n   * @returns {Number} Returns `collection.length` or number of own enumerable properties.\n   * @example\n   *\n   * _.size([1, 2]);\n   * // => 2\n   *\n   * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n   * // => 3\n   *\n   * _.size('curly');\n   * // => 5\n   */\n  function size(collection) {\n    var length = collection ? collection.length : 0;\n    return typeof length == 'number' ? length : keys(collection).length;\n  }\n\n  /**\n   * Checks if the `callback` returns a truthy value for **any** element of a\n   * `collection`. The function returns as soon as it finds passing value, and\n   * does not iterate over the entire `collection`. The `callback` is bound to\n   * `thisArg` and invoked with three arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias any\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Boolean} Returns `true` if any element passes the callback check,\n   *  else `false`.\n   * @example\n   *\n   * _.some([null, 0, 'yes', false], Boolean);\n   * // => true\n   *\n   * var food = [\n   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },\n   *   { 'name': 'carrot', 'organic': true,  'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.some(food, 'organic');\n   * // => true\n   *\n   * // using \"_.where\" callback shorthand\n   * _.some(food, { 'type': 'meat' });\n   * // => false\n   */\n  function some(collection, callback, thisArg) {\n    var result;\n    callback = createCallback(callback, thisArg);\n\n    if (isArray(collection)) {\n      var index = -1,\n          length = collection.length;\n\n      while (++index < length) {\n        if ((result = callback(collection[index], index, collection))) {\n          break;\n        }\n      }\n    } else {\n      each(collection, function(value, index, collection) {\n        return !(result = callback(value, index, collection));\n      });\n    }\n    return !!result;\n  }\n\n  /**\n   * Creates an array of elements, sorted in ascending order by the results of\n   * running each element in the `collection` through the `callback`. This method\n   * performs a stable sort, that is, it will preserve the original sort order of\n   * equal elements. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, index|key, collection).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of sorted elements.\n   * @example\n   *\n   * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n   * // => [3, 1, 2]\n   *\n   * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n   * // => [3, 1, 2]\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.sortBy(['banana', 'strawberry', 'apple'], 'length');\n   * // => ['apple', 'banana', 'strawberry']\n   */\n  function sortBy(collection, callback, thisArg) {\n    var index = -1,\n        length = collection ? collection.length : 0,\n        result = Array(typeof length == 'number' ? length : 0);\n\n    callback = createCallback(callback, thisArg);\n    forEach(collection, function(value, key, collection) {\n      result[++index] = {\n        'criteria': callback(value, key, collection),\n        'index': index,\n        'value': value\n      };\n    });\n\n    length = result.length;\n    result.sort(compareAscending);\n    while (length--) {\n      result[length] = result[length].value;\n    }\n    return result;\n  }\n\n  /**\n   * Converts the `collection` to an array.\n   *\n   * @static\n   * @memberOf _\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to convert.\n   * @returns {Array} Returns the new converted array.\n   * @example\n   *\n   * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n   * // => [2, 3, 4]\n   */\n  function toArray(collection) {\n    if (collection && typeof collection.length == 'number') {\n      return  slice(collection);\n    }\n    return values(collection);\n  }\n\n  /**\n   * Examines each element in a `collection`, returning an array of all elements\n   * that have the given `properties`. When checking `properties`, this method\n   * performs a deep comparison between values to determine if they are equivalent\n   * to each other.\n   *\n   * @static\n   * @memberOf _\n   * @type Function\n   * @category Collections\n   * @param {Array|Object|String} collection The collection to iterate over.\n   * @param {Object} properties The object of property values to filter by.\n   * @returns {Array} Returns a new array of elements that have the given `properties`.\n   * @example\n   *\n   * var stooges = [\n   *   { 'name': 'moe', 'age': 40 },\n   *   { 'name': 'larry', 'age': 50 }\n   * ];\n   *\n   * _.where(stooges, { 'age': 40 });\n   * // => [{ 'name': 'moe', 'age': 40 }]\n   */\n  var where = filter;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates an array with all falsey values of `array` removed. The values\n   * `false`, `null`, `0`, `\"\"`, `undefined` and `NaN` are all falsey.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @returns {Array} Returns a new filtered array.\n   * @example\n   *\n   * _.compact([0, 1, false, 2, '', 3]);\n   * // => [1, 2, 3]\n   */\n  function compact(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array of `array` elements not present in the other arrays\n   * using strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {Array} [array1, array2, ...] Arrays to check.\n   * @returns {Array} Returns a new array of `array` elements not present in the\n   *  other arrays.\n   * @example\n   *\n   * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n   * // => [1, 3, 4]\n   */\n  function difference(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        flattened = concat.apply(arrayRef, arguments),\n        contains = cachedContains(flattened, length),\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (!contains(value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the first element of the `array`. If a number `n` is passed, the first\n   * `n` elements of the `array` are returned. If a `callback` function is passed,\n   * the first elements the `callback` returns truthy for are returned. The `callback`\n   * is bound to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias head, take\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|Number|String} [callback|n] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the first element(s) of `array`.\n   * @example\n   *\n   * _.first([1, 2, 3]);\n   * // => 1\n   *\n   * _.first([1, 2, 3], 2);\n   * // => [1, 2]\n   *\n   * _.first([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [1, 2]\n   *\n   * var food = [\n   *   { 'name': 'banana', 'organic': true },\n   *   { 'name': 'beet',   'organic': false },\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.first(food, 'organic');\n   * // => [{ 'name': 'banana', 'organic': true }]\n   *\n   * var food = [\n   *   { 'name': 'apple',  'type': 'fruit' },\n   *   { 'name': 'banana', 'type': 'fruit' },\n   *   { 'name': 'beet',   'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.where\" callback shorthand\n   * _.first(food, { 'type': 'fruit' });\n   * // => [{ 'name': 'apple', 'type': 'fruit' }, { 'name': 'banana', 'type': 'fruit' }]\n   */\n  function first(array, callback, thisArg) {\n    if (array) {\n      var n = 0,\n          length = array.length;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = -1;\n        callback = createCallback(callback, thisArg);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array[0];\n        }\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, n), length));\n    }\n  }\n\n  /**\n   * Flattens a nested array (the nesting can be to any depth). If `shallow` is\n   * truthy, `array` will only be flattened a single level.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to compact.\n   * @param {Boolean} shallow A flag to indicate only flattening a single level.\n   * @returns {Array} Returns a new flattened array.\n   * @example\n   *\n   * _.flatten([1, [2], [3, [[4]]]]);\n   * // => [1, 2, 3, 4];\n   *\n   * _.flatten([1, [2], [3, [[4]]]], true);\n   * // => [1, 2, 3, [[4]]];\n   */\n  function flatten(array, shallow) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n\n      // recursively flatten arrays (susceptible to call stack limits)\n      if (isArray(value)) {\n        push.apply(result, shallow ? value : flatten(value));\n      } else {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `value` is found using\n   * strict equality for comparisons, i.e. `===`. If the `array` is already\n   * sorted, passing `true` for `fromIndex` will run a faster binary search.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {Mixed} value The value to search for.\n   * @param {Boolean|Number} [fromIndex=0] The index to search from or `true` to\n   *  perform a binary search on a sorted `array`.\n   * @returns {Number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 1\n   *\n   * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 4\n   *\n   * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n   * // => 2\n   */\n  function indexOf(array, value, fromIndex) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    if (typeof fromIndex == 'number') {\n      index = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0) - 1;\n    } else if (fromIndex) {\n      index = sortedIndex(array, value);\n      return array[index] === value ? index : -1;\n    }\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Gets all but the last element of `array`. If a number `n` is passed, the\n   * last `n` elements are excluded from the result. If a `callback` function\n   * is passed, the last elements the `callback` returns truthy for are excluded\n   * from the result. The `callback` is bound to `thisArg` and invoked with three\n   * arguments; (value, index, array).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|Number|String} [callback|n=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.initial([1, 2, 3]);\n   * // => [1, 2]\n   *\n   * _.initial([1, 2, 3], 2);\n   * // => [1]\n   *\n   * _.initial([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [1]\n   *\n   * var food = [\n   *   { 'name': 'beet',   'organic': false },\n   *   { 'name': 'carrot', 'organic': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.initial(food, 'organic');\n   * // => [{ 'name': 'beet',   'organic': false }]\n   *\n   * var food = [\n   *   { 'name': 'banana', 'type': 'fruit' },\n   *   { 'name': 'beet',   'type': 'vegetable' },\n   *   { 'name': 'carrot', 'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.where\" callback shorthand\n   * _.initial(food, { 'type': 'vegetable' });\n   * // => [{ 'name': 'banana', 'type': 'fruit' }]\n   */\n  function initial(array, callback, thisArg) {\n    if (!array) {\n      return [];\n    }\n    var n = 0,\n        length = array.length;\n\n    if (typeof callback != 'number' && callback != null) {\n      var index = length;\n      callback = createCallback(callback, thisArg);\n      while (index-- && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : callback || n;\n    }\n    return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n  }\n\n  /**\n   * Computes the intersection of all the passed-in arrays using strict equality\n   * for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} [array1, array2, ...] Arrays to process.\n   * @returns {Array} Returns a new array of unique elements that are present\n   *  in **all** of the arrays.\n   * @example\n   *\n   * _.intersection([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n   * // => [1, 2]\n   */\n  function intersection(array) {\n    var args = arguments,\n        argsLength = args.length,\n        cache = { '0': {} },\n        index = -1,\n        length = array ? array.length : 0,\n        isLarge = length >= 100,\n        result = [],\n        seen = result;\n\n    outer:\n    while (++index < length) {\n      var value = array[index];\n      if (isLarge) {\n        var key = value + '';\n        var inited = hasOwnProperty.call(cache[0], key)\n          ? !(seen = cache[0][key])\n          : (seen = cache[0][key] = []);\n      }\n      if (inited || indexOf(seen, value) < 0) {\n        if (isLarge) {\n          seen.push(value);\n        }\n        var argsIndex = argsLength;\n        while (--argsIndex) {\n          if (!(cache[argsIndex] || (cache[argsIndex] = cachedContains(args[argsIndex], 0, 100)))(value)) {\n            continue outer;\n          }\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Gets the last element of the `array`. If a number `n` is passed, the last\n   * `n` elements of the `array` are returned. If a `callback` function is passed,\n   * the last elements the `callback` returns truthy for are returned. The `callback`\n   * is bound to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|Number|String} [callback|n] The function called\n   *  per element or the number of elements to return. If a property name or\n   *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Mixed} Returns the last element(s) of `array`.\n   * @example\n   *\n   * _.last([1, 2, 3]);\n   * // => 3\n   *\n   * _.last([1, 2, 3], 2);\n   * // => [2, 3]\n   *\n   * _.last([1, 2, 3], function(num) {\n   *   return num > 1;\n   * });\n   * // => [2, 3]\n   *\n   * var food = [\n   *   { 'name': 'beet',   'organic': false },\n   *   { 'name': 'carrot', 'organic': true }\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.last(food, 'organic');\n   * // => [{ 'name': 'carrot', 'organic': true }]\n   *\n   * var food = [\n   *   { 'name': 'banana', 'type': 'fruit' },\n   *   { 'name': 'beet',   'type': 'vegetable' },\n   *   { 'name': 'carrot', 'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.where\" callback shorthand\n   * _.last(food, { 'type': 'vegetable' });\n   * // => [{ 'name': 'beet', 'type': 'vegetable' }, { 'name': 'carrot', 'type': 'vegetable' }]\n   */\n  function last(array, callback, thisArg) {\n    if (array) {\n      var n = 0,\n          length = array.length;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = createCallback(callback, thisArg);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array[length - 1];\n        }\n      }\n      return slice(array, nativeMax(0, length - n));\n    }\n  }\n\n  /**\n   * Gets the index at which the last occurrence of `value` is found using strict\n   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n   * as the offset from the end of the collection.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to search.\n   * @param {Mixed} value The value to search for.\n   * @param {Number} [fromIndex=array.length-1] The index to search from.\n   * @returns {Number} Returns the index of the matched value or `-1`.\n   * @example\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n   * // => 4\n   *\n   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n   * // => 1\n   */\n  function lastIndexOf(array, value, fromIndex) {\n    var index = array ? array.length : 0;\n    if (typeof fromIndex == 'number') {\n      index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n    }\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Creates an object composed from arrays of `keys` and `values`. Pass either\n   * a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`, or\n   * two arrays, one of `keys` and one of corresponding `values`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} keys The array of keys.\n   * @param {Array} [values=[]] The array of values.\n   * @returns {Object} Returns an object composed of the given keys and\n   *  corresponding values.\n   * @example\n   *\n   * _.object(['moe', 'larry'], [30, 40]);\n   * // => { 'moe': 30, 'larry': 40 }\n   */\n  function object(keys, values) {\n    var index = -1,\n        length = keys ? keys.length : 0,\n        result = {};\n\n    while (++index < length) {\n      var key = keys[index];\n      if (values) {\n        result[key] = values[index];\n      } else {\n        result[key[0]] = key[1];\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array of numbers (positive and/or negative) progressing from\n   * `start` up to but not including `end`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Number} [start=0] The start of the range.\n   * @param {Number} end The end of the range.\n   * @param {Number} [step=1] The value to increment or descrement by.\n   * @returns {Array} Returns a new range array.\n   * @example\n   *\n   * _.range(10);\n   * // => [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n   *\n   * _.range(1, 11);\n   * // => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n   *\n   * _.range(0, 30, 5);\n   * // => [0, 5, 10, 15, 20, 25]\n   *\n   * _.range(0, -10, -1);\n   * // => [0, -1, -2, -3, -4, -5, -6, -7, -8, -9]\n   *\n   * _.range(0);\n   * // => []\n   */\n  function range(start, end, step) {\n    start = +start || 0;\n    step = +step || 1;\n\n    if (end == null) {\n      end = start;\n      start = 0;\n    }\n    // use `Array(length)` so V8 will avoid the slower \"dictionary\" mode\n    // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n    var index = -1,\n        length = nativeMax(0, ceil((end - start) / step)),\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = start;\n      start += step;\n    }\n    return result;\n  }\n\n  /**\n   * The opposite of `_.initial`, this method gets all but the first value of `array`.\n   * If a number `n` is passed, the first `n` values are excluded from the result.\n   * If a `callback` function is passed, the first elements the `callback` returns\n   * truthy for are excluded from the result. The `callback` is bound to `thisArg`\n   * and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias drop, tail\n   * @category Arrays\n   * @param {Array} array The array to query.\n   * @param {Function|Object|Number|String} [callback|n=1] The function called\n   *  per element or the number of elements to exclude. If a property name or\n   *  object is passed, it will be used to create a \"_.pluck\" or \"_.where\"\n   *  style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a slice of `array`.\n   * @example\n   *\n   * _.rest([1, 2, 3]);\n   * // => [2, 3]\n   *\n   * _.rest([1, 2, 3], 2);\n   * // => [3]\n   *\n   * _.rest([1, 2, 3], function(num) {\n   *   return num < 3;\n   * });\n   * // => [3]\n   *\n   * var food = [\n   *   { 'name': 'banana', 'organic': true },\n   *   { 'name': 'beet',   'organic': false },\n   * ];\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.rest(food, 'organic');\n   * // => [{ 'name': 'beet', 'organic': false }]\n   *\n   * var food = [\n   *   { 'name': 'apple',  'type': 'fruit' },\n   *   { 'name': 'banana', 'type': 'fruit' },\n   *   { 'name': 'beet',   'type': 'vegetable' }\n   * ];\n   *\n   * // using \"_.where\" callback shorthand\n   * _.rest(food, { 'type': 'fruit' });\n   * // => [{ 'name': 'beet', 'type': 'vegetable' }]\n   */\n  function rest(array, callback, thisArg) {\n    if (typeof callback != 'number' && callback != null) {\n      var n = 0,\n          index = -1,\n          length = array ? array.length : 0;\n\n      callback = createCallback(callback, thisArg);\n      while (++index < length && callback(array[index], index, array)) {\n        n++;\n      }\n    } else {\n      n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n    }\n    return slice(array, n);\n  }\n\n  /**\n   * Uses a binary search to determine the smallest index at which the `value`\n   * should be inserted into `array` in order to maintain the sort order of the\n   * sorted `array`. If `callback` is passed, it will be executed for `value` and\n   * each element in `array` to compute their sort ranking. The `callback` is\n   * bound to `thisArg` and invoked with one argument; (value).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to iterate over.\n   * @param {Mixed} value The value to evaluate.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Number} Returns the index at which the value should be inserted\n   *  into `array`.\n   * @example\n   *\n   * _.sortedIndex([20, 30, 50], 40);\n   * // => 2\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n   * // => 2\n   *\n   * var dict = {\n   *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n   * };\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return dict.wordToNumber[word];\n   * });\n   * // => 2\n   *\n   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n   *   return this.wordToNumber[word];\n   * }, dict);\n   * // => 2\n   */\n  function sortedIndex(array, value, callback, thisArg) {\n    var low = 0,\n        high = array ? array.length : low;\n\n    // explicitly reference `identity` for better inlining in Firefox\n    callback = callback ? createCallback(callback, thisArg, 1) : identity;\n    value = callback(value);\n\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      callback(array[mid]) < value\n        ? low = mid + 1\n        : high = mid;\n    }\n    return low;\n  }\n\n  /**\n   * Computes the union of the passed-in arrays using strict equality for\n   * comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} [array1, array2, ...] Arrays to process.\n   * @returns {Array} Returns a new array of unique values, in order, that are\n   *  present in one or more of the arrays.\n   * @example\n   *\n   * _.union([1, 2, 3], [101, 2, 1, 10], [2, 1]);\n   * // => [1, 2, 3, 101, 10]\n   */\n  function union() {\n    return uniq(concat.apply(arrayRef, arguments));\n  }\n\n  /**\n   * Creates a duplicate-value-free version of the `array` using strict equality\n   * for comparisons, i.e. `===`. If the `array` is already sorted, passing `true`\n   * for `isSorted` will run a faster algorithm. If `callback` is passed, each\n   * element of `array` is passed through a callback` before uniqueness is computed.\n   * The `callback` is bound to `thisArg` and invoked with three arguments; (value, index, array).\n   *\n   * If a property name is passed for `callback`, the created \"_.pluck\" style\n   * callback will return the property value of the given element.\n   *\n   * If an object is passed for `callback`, the created \"_.where\" style callback\n   * will return `true` for elements that have the propeties of the given object,\n   * else `false`.\n   *\n   * @static\n   * @memberOf _\n   * @alias unique\n   * @category Arrays\n   * @param {Array} array The array to process.\n   * @param {Boolean} [isSorted=false] A flag to indicate that the `array` is already sorted.\n   * @param {Function|Object|String} [callback=identity] The function called per\n   *  iteration. If a property name or object is passed, it will be used to create\n   *  a \"_.pluck\" or \"_.where\" style callback, respectively.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a duplicate-value-free array.\n   * @example\n   *\n   * _.uniq([1, 2, 1, 3, 1]);\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 1, 2, 2, 3], true);\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 2, 1.5, 3, 2.5], function(num) { return Math.floor(num); });\n   * // => [1, 2, 3]\n   *\n   * _.uniq([1, 2, 1.5, 3, 2.5], function(num) { return this.floor(num); }, Math);\n   * // => [1, 2, 3]\n   *\n   * // using \"_.pluck\" callback shorthand\n   * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n   * // => [{ 'x': 1 }, { 'x': 2 }]\n   */\n  function uniq(array, isSorted, callback, thisArg) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = [],\n        seen = result;\n\n    // juggle arguments\n    if (typeof isSorted == 'function') {\n      thisArg = callback;\n      callback = isSorted;\n      isSorted = false;\n    }\n    // init value cache for large arrays\n    var isLarge = !isSorted && length >= 75;\n    if (isLarge) {\n      var cache = {};\n    }\n    if (callback) {\n      seen = [];\n      callback = createCallback(callback, thisArg);\n    }\n    while (++index < length) {\n      var value = array[index],\n          computed = callback ? callback(value, index, array) : value;\n\n      if (isLarge) {\n        var key = computed + '';\n        var inited = hasOwnProperty.call(cache, key)\n          ? !(seen = cache[key])\n          : (seen = cache[key] = []);\n      }\n      if (isSorted\n            ? !index || seen[seen.length - 1] !== computed\n            : inited || indexOf(seen, computed) < 0\n          ) {\n        if (callback || isLarge) {\n          seen.push(computed);\n        }\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Creates an array with all occurrences of the passed values removed using\n   * strict equality for comparisons, i.e. `===`.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} array The array to filter.\n   * @param {Mixed} [value1, value2, ...] Values to remove.\n   * @returns {Array} Returns a new filtered array.\n   * @example\n   *\n   * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n   * // => [2, 3, 4]\n   */\n  function without(array) {\n    var index = -1,\n        length = array ? array.length : 0,\n        contains = cachedContains(arguments, 1),\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (!contains(value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Groups the elements of each array at their corresponding indexes. Useful for\n   * separate data sources that are coordinated through matching array indexes.\n   * For a matrix of nested arrays, `_.zip.apply(...)` can transpose the matrix\n   * in a similar fashion.\n   *\n   * @static\n   * @memberOf _\n   * @category Arrays\n   * @param {Array} [array1, array2, ...] Arrays to process.\n   * @returns {Array} Returns a new array of grouped elements.\n   * @example\n   *\n   * _.zip(['moe', 'larry'], [30, 40], [true, false]);\n   * // => [['moe', 30, true], ['larry', 40, false]]\n   */\n  function zip(array) {\n    var index = -1,\n        length = array ? max(pluck(arguments, 'length')) : 0,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = pluck(arguments, index);\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a function that is restricted to executing `func` only after it is\n   * called `n` times. The `func` is executed with the `this` binding of the\n   * created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Number} n The number of times the function must be called before\n   * it is executed.\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var renderNotes = _.after(notes.length, render);\n   * _.forEach(notes, function(note) {\n   *   note.asyncSave({ 'success': renderNotes });\n   * });\n   * // `renderNotes` is run once, after all notes have saved\n   */\n  function after(n, func) {\n    if (n < 1) {\n      return func();\n    }\n    return function() {\n      if (--n < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with the `this`\n   * binding of `thisArg` and prepends any additional `bind` arguments to those\n   * passed to the bound function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to bind.\n   * @param {Mixed} [thisArg] The `this` binding of `func`.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var func = function(greeting) {\n   *   return greeting + ' ' + this.name;\n   * };\n   *\n   * func = _.bind(func, { 'name': 'moe' }, 'hi');\n   * func();\n   * // => 'hi moe'\n   */\n  function bind(func, thisArg) {\n    // use `Function#bind` if it exists and is fast\n    // (in V8 `Function#bind` is slower except when partially applied)\n    return isBindFast || (nativeBind && arguments.length > 2)\n      ? nativeBind.call.apply(nativeBind, arguments)\n      : createBound(func, thisArg, slice(arguments, 2));\n  }\n\n  /**\n   * Binds methods on `object` to `object`, overwriting the existing method.\n   * Method names may be specified as individual arguments or as arrays of method\n   * names. If no method names are provided, all the function properties of `object`\n   * will be bound.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Object} object The object to bind and assign the bound methods to.\n   * @param {String} [methodName1, methodName2, ...] Method names on the object to bind.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var view = {\n   *  'label': 'docs',\n   *  'onClick': function() { alert('clicked ' + this.label); }\n   * };\n   *\n   * _.bindAll(view);\n   * jQuery('#docs').on('click', view.onClick);\n   * // => alerts 'clicked docs', when the button is clicked\n   */\n  function bindAll(object) {\n    var funcs = concat.apply(arrayRef, arguments),\n        index = funcs.length > 1 ? 0 : (funcs = functions(object), -1),\n        length = funcs.length;\n\n    while (++index < length) {\n      var key = funcs[index];\n      object[key] = bind(object[key], object);\n    }\n    return object;\n  }\n\n  /**\n   * Creates a function that, when called, invokes the method at `object[key]`\n   * and prepends any additional `bindKey` arguments to those passed to the bound\n   * function. This method differs from `_.bind` by allowing bound functions to\n   * reference methods that will be redefined or don't yet exist.\n   * See http://michaux.ca/articles/lazy-function-definition-pattern.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Object} object The object the method belongs to.\n   * @param {String} key The key of the method.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n   * @returns {Function} Returns the new bound function.\n   * @example\n   *\n   * var object = {\n   *   'name': 'moe',\n   *   'greet': function(greeting) {\n   *     return greeting + ' ' + this.name;\n   *   }\n   * };\n   *\n   * var func = _.bindKey(object, 'greet', 'hi');\n   * func();\n   * // => 'hi moe'\n   *\n   * object.greet = function(greeting) {\n   *   return greeting + ', ' + this.name + '!';\n   * };\n   *\n   * func();\n   * // => 'hi, moe!'\n   */\n  function bindKey(object, key) {\n    return createBound(object, key, slice(arguments, 2));\n  }\n\n  /**\n   * Creates a function that is the composition of the passed functions,\n   * where each function consumes the return value of the function that follows.\n   * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n   * Each function is executed with the `this` binding of the composed function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} [func1, func2, ...] Functions to compose.\n   * @returns {Function} Returns the new composed function.\n   * @example\n   *\n   * var greet = function(name) { return 'hi ' + name; };\n   * var exclaim = function(statement) { return statement + '!'; };\n   * var welcome = _.compose(exclaim, greet);\n   * welcome('moe');\n   * // => 'hi moe!'\n   */\n  function compose() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        args = [funcs[length].apply(this, args)];\n      }\n      return args[0];\n    };\n  }\n\n  /**\n   * Creates a function that will delay the execution of `func` until after\n   * `wait` milliseconds have elapsed since the last time it was invoked. Pass\n   * `true` for `immediate` to cause debounce to invoke `func` on the leading,\n   * instead of the trailing, edge of the `wait` timeout. Subsequent calls to\n   * the debounced function will return the result of the last `func` call.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to debounce.\n   * @param {Number} wait The number of milliseconds to delay.\n   * @param {Boolean} immediate A flag to indicate execution is on the leading\n   *  edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * var lazyLayout = _.debounce(calculateLayout, 300);\n   * jQuery(window).on('resize', lazyLayout);\n   */\n  function debounce(func, wait, immediate) {\n    var args,\n        result,\n        thisArg,\n        timeoutId;\n\n    function delayed() {\n      timeoutId = null;\n      if (!immediate) {\n        result = func.apply(thisArg, args);\n      }\n    }\n    return function() {\n      var isImmediate = immediate && !timeoutId;\n      args = arguments;\n      thisArg = this;\n\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(delayed, wait);\n\n      if (isImmediate) {\n        result = func.apply(thisArg, args);\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Executes the `func` function after `wait` milliseconds. Additional arguments\n   * will be passed to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to delay.\n   * @param {Number} wait The number of milliseconds to delay execution.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n   * @returns {Number} Returns the `setTimeout` timeout id.\n   * @example\n   *\n   * var log = _.bind(console.log, console);\n   * _.delay(log, 1000, 'logged later');\n   * // => 'logged later' (Appears after one second.)\n   */\n  function delay(func, wait) {\n    var args = slice(arguments, 2);\n    return setTimeout(function() { func.apply(undefined, args); }, wait);\n  }\n\n  /**\n   * Defers executing the `func` function until the current call stack has cleared.\n   * Additional arguments will be passed to `func` when it is invoked.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to defer.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to invoke the function with.\n   * @returns {Number} Returns the `setTimeout` timeout id.\n   * @example\n   *\n   * _.defer(function() { alert('deferred'); });\n   * // returns from the function before `alert` is called\n   */\n  function defer(func) {\n    var args = slice(arguments, 1);\n    return setTimeout(function() { func.apply(undefined, args); }, 1);\n  }\n  // use `setImmediate` if it's available in Node.js\n  if (isV8 && freeModule && typeof setImmediate == 'function') {\n    defer = bind(setImmediate, window);\n  }\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * passed, it will be used to determine the cache key for storing the result\n   * based on the arguments passed to the memoized function. By default, the first\n   * argument passed to the memoized function is used as the cache key. The `func`\n   * is executed with the `this` binding of the memoized function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] A function used to resolve the cache key.\n   * @returns {Function} Returns the new memoizing function.\n   * @example\n   *\n   * var fibonacci = _.memoize(function(n) {\n   *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n   * });\n   */\n  function memoize(func, resolver) {\n    var cache = {};\n    return function() {\n      var key = (resolver ? resolver.apply(this, arguments) : arguments[0]) + '';\n      return hasOwnProperty.call(cache, key)\n        ? cache[key]\n        : (cache[key] = func.apply(this, arguments));\n    };\n  }\n\n  /**\n   * Creates a function that is restricted to execute `func` once. Repeat calls to\n   * the function will return the value of the first call. The `func` is executed\n   * with the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to restrict.\n   * @returns {Function} Returns the new restricted function.\n   * @example\n   *\n   * var initialize = _.once(createApplication);\n   * initialize();\n   * initialize();\n   * // `initialize` executes `createApplication` once\n   */\n  function once(func) {\n    var ran,\n        result;\n\n    return function() {\n      if (ran) {\n        return result;\n      }\n      ran = true;\n      result = func.apply(this, arguments);\n\n      // clear the `func` variable so the function may be garbage collected\n      func = null;\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that, when called, invokes `func` with any additional\n   * `partial` arguments prepended to those passed to the new function. This\n   * method is similar to `_.bind`, except it does **not** alter the `this` binding.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to partially apply arguments to.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n   * @returns {Function} Returns the new partially applied function.\n   * @example\n   *\n   * var greet = function(greeting, name) { return greeting + ' ' + name; };\n   * var hi = _.partial(greet, 'hi');\n   * hi('moe');\n   * // => 'hi moe'\n   */\n  function partial(func) {\n    return createBound(func, slice(arguments, 1));\n  }\n\n  /**\n   * This method is similar to `_.partial`, except that `partial` arguments are\n   * appended to those passed to the new function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to partially apply arguments to.\n   * @param {Mixed} [arg1, arg2, ...] Arguments to be partially applied.\n   * @returns {Function} Returns the new partially applied function.\n   * @example\n   *\n   * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n   *\n   * var options = {\n   *   'variable': 'data',\n   *   'imports': { 'jq': $ }\n   * };\n   *\n   * defaultsDeep(options, _.templateSettings);\n   *\n   * options.variable\n   * // => 'data'\n   *\n   * options.imports\n   * // => { '_': _, 'jq': $ }\n   */\n  function partialRight(func) {\n    return createBound(func, slice(arguments, 1), null, indicatorObject);\n  }\n\n  /**\n   * Creates a function that, when executed, will only call the `func`\n   * function at most once per every `wait` milliseconds. If the throttled\n   * function is invoked more than once during the `wait` timeout, `func` will\n   * also be called on the trailing edge of the timeout. Subsequent calls to the\n   * throttled function will return the result of the last `func` call.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Function} func The function to throttle.\n   * @param {Number} wait The number of milliseconds to throttle executions to.\n   * @returns {Function} Returns the new throttled function.\n   * @example\n   *\n   * var throttled = _.throttle(updatePosition, 100);\n   * jQuery(window).on('scroll', throttled);\n   */\n  function throttle(func, wait) {\n    var args,\n        result,\n        thisArg,\n        timeoutId,\n        lastCalled = 0;\n\n    function trailingCall() {\n      lastCalled = new Date;\n      timeoutId = null;\n      result = func.apply(thisArg, args);\n    }\n    return function() {\n      var now = new Date,\n          remaining = wait - (now - lastCalled);\n\n      args = arguments;\n      thisArg = this;\n\n      if (remaining <= 0) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n        lastCalled = now;\n        result = func.apply(thisArg, args);\n      }\n      else if (!timeoutId) {\n        timeoutId = setTimeout(trailingCall, remaining);\n      }\n      return result;\n    };\n  }\n\n  /**\n   * Creates a function that passes `value` to the `wrapper` function as its\n   * first argument. Additional arguments passed to the function are appended\n   * to those passed to the `wrapper` function. The `wrapper` is executed with\n   * the `this` binding of the created function.\n   *\n   * @static\n   * @memberOf _\n   * @category Functions\n   * @param {Mixed} value The value to wrap.\n   * @param {Function} wrapper The wrapper function.\n   * @returns {Function} Returns the new function.\n   * @example\n   *\n   * var hello = function(name) { return 'hello ' + name; };\n   * hello = _.wrap(hello, function(func) {\n   *   return 'before, ' + func('moe') + ', after';\n   * });\n   * hello();\n   * // => 'before, hello moe, after'\n   */\n  function wrap(value, wrapper) {\n    return function() {\n      var args = [value];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n   * corresponding HTML entities.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {String} string The string to escape.\n   * @returns {String} Returns the escaped string.\n   * @example\n   *\n   * _.escape('Moe, Larry & Curly');\n   * // => 'Moe, Larry &amp; Curly'\n   */\n  function escape(string) {\n    return string == null ? '' : (string + '').replace(reUnescapedHtml, escapeHtmlChar);\n  }\n\n  /**\n   * This function returns the first argument passed to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Mixed} value Any value.\n   * @returns {Mixed} Returns `value`.\n   * @example\n   *\n   * var moe = { 'name': 'moe' };\n   * moe === _.identity(moe);\n   * // => true\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Adds functions properties of `object` to the `lodash` function and chainable\n   * wrapper.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} object The object of function properties to add to `lodash`.\n   * @example\n   *\n   * _.mixin({\n   *   'capitalize': function(string) {\n   *     return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n   *   }\n   * });\n   *\n   * _.capitalize('moe');\n   * // => 'Moe'\n   *\n   * _('moe').capitalize();\n   * // => 'Moe'\n   */\n  function mixin(object) {\n    forEach(functions(object), function(methodName) {\n      var func = lodash[methodName] = object[methodName];\n\n      lodash.prototype[methodName] = function() {\n        var args = [this.__wrapped__];\n        push.apply(args, arguments);\n        return new lodash(func.apply(lodash, args));\n      };\n    });\n  }\n\n  /**\n   * Reverts the '_' variable to its previous value and returns a reference to\n   * the `lodash` function.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @returns {Function} Returns the `lodash` function.\n   * @example\n   *\n   * var lodash = _.noConflict();\n   */\n  function noConflict() {\n    window._ = oldDash;\n    return this;\n  }\n\n  /**\n   * Produces a random number between `min` and `max` (inclusive). If only one\n   * argument is passed, a number between `0` and the given number will be returned.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Number} [min=0] The minimum possible value.\n   * @param {Number} [max=1] The maximum possible value.\n   * @returns {Number} Returns a random number.\n   * @example\n   *\n   * _.random(0, 5);\n   * // => a number between 0 and 5\n   *\n   * _.random(5);\n   * // => also a number between 0 and 5\n   */\n  function random(min, max) {\n    if (min == null && max == null) {\n      max = 1;\n    }\n    min = +min || 0;\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + floor(nativeRandom() * ((+max || 0) - min + 1));\n  }\n\n  /**\n   * Resolves the value of `property` on `object`. If `property` is a function,\n   * it will be invoked and its result returned, else the property value is\n   * returned. If `object` is falsey, then `null` is returned.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} object The object to inspect.\n   * @param {String} property The property to get the value of.\n   * @returns {Mixed} Returns the resolved value.\n   * @example\n   *\n   * var object = {\n   *   'cheese': 'crumpets',\n   *   'stuff': function() {\n   *     return 'nonsense';\n   *   }\n   * };\n   *\n   * _.result(object, 'cheese');\n   * // => 'crumpets'\n   *\n   * _.result(object, 'stuff');\n   * // => 'nonsense'\n   */\n  function result(object, property) {\n    var value = object ? object[property] : undefined;\n    return isFunction(value) ? object[property]() : value;\n  }\n\n  /**\n   * A micro-templating method that handles arbitrary delimiters, preserves\n   * whitespace, and correctly escapes quotes within interpolated code.\n   *\n   * Note: In the development build, `_.template` utilizes sourceURLs for easier\n   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n   *\n   * Note: Lo-Dash may be used in Chrome extensions by either creating a `lodash csp`\n   * build and using precompiled templates, or loading Lo-Dash in a sandbox.\n   *\n   * For more information on precompiling templates see:\n   * http://lodash.com/#custom-builds\n   *\n   * For more information on Chrome extension sandboxes see:\n   * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {String} text The template text.\n   * @param {Obect} data The data object used to populate the text.\n   * @param {Object} options The options object.\n   *  escape - The \"escape\" delimiter regexp.\n   *  evaluate - The \"evaluate\" delimiter regexp.\n   *  interpolate - The \"interpolate\" delimiter regexp.\n   *  sourceURL - The sourceURL of the template's compiled source.\n   *  variable - The data object variable name.\n   *\n   * @returns {Function|String} Returns a compiled function when no `data` object\n   *  is given, else it returns the interpolated text.\n   * @example\n   *\n   * // using a compiled template\n   * var compiled = _.template('hello <%= name %>');\n   * compiled({ 'name': 'moe' });\n   * // => 'hello moe'\n   *\n   * var list = '<% _.forEach(people, function(name) { %><li><%= name %></li><% }); %>';\n   * _.template(list, { 'people': ['moe', 'larry'] });\n   * // => '<li>moe</li><li>larry</li>'\n   *\n   * // using the \"escape\" delimiter to escape HTML in data property values\n   * _.template('<b><%- value %></b>', { 'value': '<script>' });\n   * // => '<b>&lt;script&gt;</b>'\n   *\n   * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n   * _.template('hello ${ name }', { 'name': 'curly' });\n   * // => 'hello curly'\n   *\n   * // using the internal `print` function in \"evaluate\" delimiters\n   * _.template('<% print(\"hello \" + epithet); %>!', { 'epithet': 'stooge' });\n   * // => 'hello stooge!'\n   *\n   * // using custom template delimiters\n   * _.templateSettings = {\n   *   'interpolate': /{{([\\s\\S]+?)}}/g\n   * };\n   *\n   * _.template('hello {{ name }}!', { 'name': 'mustache' });\n   * // => 'hello mustache!'\n   *\n   * // using the `sourceURL` option to specify a custom sourceURL for the template\n   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n   * compiled(data);\n   * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n   *\n   * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n   * compiled.source;\n   * // => function(data) {\n   *   var __t, __p = '', __e = _.escape;\n   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n   *   return __p;\n   * }\n   *\n   * // using the `source` property to inline compiled templates for meaningful\n   * // line numbers in error messages and a stack trace\n   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n   *   var JST = {\\\n   *     \"main\": ' + _.template(mainText).source + '\\\n   *   };\\\n   * ');\n   */\n  function template(text, data, options) {\n    // based on John Resig's `tmpl` implementation\n    // http://ejohn.org/blog/javascript-micro-templating/\n    // and Laura Doktorova's doT.js\n    // https://github.com/olado/doT\n    var settings = lodash.templateSettings;\n    text || (text = '');\n\n    // avoid missing dependencies when `iteratorTemplate` is not defined\n    options = defaults({}, options, settings);\n\n    var imports = defaults({}, options.imports, settings.imports),\n        importsKeys = keys(imports),\n        importsValues = values(imports);\n\n    var isEvaluating,\n        index = 0,\n        interpolate = options.interpolate || reNoMatch,\n        source = \"__p += '\";\n\n    // compile regexp to match each delimiter\n    var reDelimiters = RegExp(\n      (options.escape || reNoMatch).source + '|' +\n      interpolate.source + '|' +\n      (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n      (options.evaluate || reNoMatch).source + '|$'\n    , 'g');\n\n    text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n      interpolateValue || (interpolateValue = esTemplateValue);\n\n      // escape characters that cannot be included in string literals\n      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n      // replace delimiters with snippets\n      if (escapeValue) {\n        source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n      }\n      if (evaluateValue) {\n        isEvaluating = true;\n        source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n      }\n      if (interpolateValue) {\n        source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n      }\n      index = offset + match.length;\n\n      // the JS engine embedded in Adobe products requires returning the `match`\n      // string in order to produce the correct `offset` value\n      return match;\n    });\n\n    source += \"';\\n\";\n\n    // if `variable` is not specified and the template contains \"evaluate\"\n    // delimiters, wrap a with-statement around the generated code to add the\n    // data object to the top of the scope chain\n    var variable = options.variable,\n        hasVariable = variable;\n\n    if (!hasVariable) {\n      variable = 'obj';\n      source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n    }\n    // cleanup code by stripping empty strings\n    source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n      .replace(reEmptyStringMiddle, '$1')\n      .replace(reEmptyStringTrailing, '$1;');\n\n    // frame code as the function body\n    source = 'function(' + variable + ') {\\n' +\n      (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n      \"var __t, __p = '', __e = _.escape\" +\n      (isEvaluating\n        ? ', __j = Array.prototype.join;\\n' +\n          \"function print() { __p += __j.call(arguments, '') }\\n\"\n        : ';\\n'\n      ) +\n      source +\n      'return __p\\n}';\n\n    // Use a sourceURL for easier debugging and wrap in a multi-line comment to\n    // avoid issues with Narwhal, IE conditional compilation, and the JS engine\n    // embedded in Adobe products.\n    // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n    var sourceURL = '\\n/*\\n//@ sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n    try {\n      var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n    } catch(e) {\n      e.source = source;\n      throw e;\n    }\n    if (data) {\n      return result(data);\n    }\n    // provide the compiled function's source via its `toString` method, in\n    // supported environments, or the `source` property as a convenience for\n    // inlining compiled templates during the build process\n    result.source = source;\n    return result;\n  }\n\n  /**\n   * Executes the `callback` function `n` times, returning an array of the results\n   * of each `callback` execution. The `callback` is bound to `thisArg` and invoked\n   * with one argument; (index).\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Number} n The number of times to execute the callback.\n   * @param {Function} callback The function called per iteration.\n   * @param {Mixed} [thisArg] The `this` binding of `callback`.\n   * @returns {Array} Returns a new array of the results of each `callback` execution.\n   * @example\n   *\n   * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n   * // => [3, 6, 4]\n   *\n   * _.times(3, function(n) { mage.castSpell(n); });\n   * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n   *\n   * _.times(3, function(n) { this.cast(n); }, mage);\n   * // => also calls `mage.castSpell(n)` three times\n   */\n  function times(n, callback, thisArg) {\n    n = +n || 0;\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = callback.call(thisArg, index);\n    }\n    return result;\n  }\n\n  /**\n   * The opposite of `_.escape`, this method converts the HTML entities\n   * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n   * corresponding characters.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {String} string The string to unescape.\n   * @returns {String} Returns the unescaped string.\n   * @example\n   *\n   * _.unescape('Moe, Larry &amp; Curly');\n   * // => 'Moe, Larry & Curly'\n   */\n  function unescape(string) {\n    return string == null ? '' : (string + '').replace(reEscapedHtml, unescapeHtmlChar);\n  }\n\n  /**\n   * Generates a unique ID. If `prefix` is passed, the ID will be appended to it.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {String} [prefix] The value to prefix the ID with.\n   * @returns {String} Returns the unique ID.\n   * @example\n   *\n   * _.uniqueId('contact_');\n   * // => 'contact_104'\n   *\n   * _.uniqueId();\n   * // => '105'\n   */\n  function uniqueId(prefix) {\n    var id = ++idCounter;\n    return (prefix == null ? '' : prefix + '') + id;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Invokes `interceptor` with the `value` as the first argument, and then\n   * returns `value`. The purpose of this method is to \"tap into\" a method chain,\n   * in order to perform operations on intermediate results within the chain.\n   *\n   * @static\n   * @memberOf _\n   * @category Chaining\n   * @param {Mixed} value The value to pass to `interceptor`.\n   * @param {Function} interceptor The function to invoke.\n   * @returns {Mixed} Returns `value`.\n   * @example\n   *\n   * _([1, 2, 3, 4])\n   *  .filter(function(num) { return num % 2 == 0; })\n   *  .tap(alert)\n   *  .map(function(num) { return num * num; })\n   *  .value();\n   * // => // [2, 4] (alerted)\n   * // => [4, 16]\n   */\n  function tap(value, interceptor) {\n    interceptor(value);\n    return value;\n  }\n\n  /**\n   * Produces the `toString` result of the wrapped value.\n   *\n   * @name toString\n   * @memberOf _\n   * @category Chaining\n   * @returns {String} Returns the string result.\n   * @example\n   *\n   * _([1, 2, 3]).toString();\n   * // => '1,2,3'\n   */\n  function wrapperToString() {\n    return this.__wrapped__ + '';\n  }\n\n  /**\n   * Extracts the wrapped value.\n   *\n   * @name valueOf\n   * @memberOf _\n   * @alias value\n   * @category Chaining\n   * @returns {Mixed} Returns the wrapped value.\n   * @example\n   *\n   * _([1, 2, 3]).valueOf();\n   * // => [1, 2, 3]\n   */\n  function wrapperValueOf() {\n    return this.__wrapped__;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return wrapped values when chaining\n  lodash.after = after;\n  lodash.assign = assign;\n  lodash.at = at;\n  lodash.bind = bind;\n  lodash.bindAll = bindAll;\n  lodash.bindKey = bindKey;\n  lodash.compact = compact;\n  lodash.compose = compose;\n  lodash.countBy = countBy;\n  lodash.debounce = debounce;\n  lodash.defaults = defaults;\n  lodash.defer = defer;\n  lodash.delay = delay;\n  lodash.difference = difference;\n  lodash.filter = filter;\n  lodash.flatten = flatten;\n  lodash.forEach = forEach;\n  lodash.forIn = forIn;\n  lodash.forOwn = forOwn;\n  lodash.functions = functions;\n  lodash.groupBy = groupBy;\n  lodash.initial = initial;\n  lodash.intersection = intersection;\n  lodash.invert = invert;\n  lodash.invoke = invoke;\n  lodash.keys = keys;\n  lodash.map = map;\n  lodash.max = max;\n  lodash.memoize = memoize;\n  lodash.merge = merge;\n  lodash.min = min;\n  lodash.object = object;\n  lodash.omit = omit;\n  lodash.once = once;\n  lodash.pairs = pairs;\n  lodash.partial = partial;\n  lodash.partialRight = partialRight;\n  lodash.pick = pick;\n  lodash.pluck = pluck;\n  lodash.range = range;\n  lodash.reject = reject;\n  lodash.rest = rest;\n  lodash.shuffle = shuffle;\n  lodash.sortBy = sortBy;\n  lodash.tap = tap;\n  lodash.throttle = throttle;\n  lodash.times = times;\n  lodash.toArray = toArray;\n  lodash.union = union;\n  lodash.uniq = uniq;\n  lodash.values = values;\n  lodash.where = where;\n  lodash.without = without;\n  lodash.wrap = wrap;\n  lodash.zip = zip;\n\n  // add aliases\n  lodash.collect = map;\n  lodash.drop = rest;\n  lodash.each = forEach;\n  lodash.extend = assign;\n  lodash.methods = functions;\n  lodash.select = filter;\n  lodash.tail = rest;\n  lodash.unique = uniq;\n\n  // add functions to `lodash.prototype`\n  mixin(lodash);\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions that return unwrapped values when chaining\n  lodash.clone = clone;\n  lodash.cloneDeep = cloneDeep;\n  lodash.contains = contains;\n  lodash.escape = escape;\n  lodash.every = every;\n  lodash.find = find;\n  lodash.has = has;\n  lodash.identity = identity;\n  lodash.indexOf = indexOf;\n  lodash.isArguments = isArguments;\n  lodash.isArray = isArray;\n  lodash.isBoolean = isBoolean;\n  lodash.isDate = isDate;\n  lodash.isElement = isElement;\n  lodash.isEmpty = isEmpty;\n  lodash.isEqual = isEqual;\n  lodash.isFinite = isFinite;\n  lodash.isFunction = isFunction;\n  lodash.isNaN = isNaN;\n  lodash.isNull = isNull;\n  lodash.isNumber = isNumber;\n  lodash.isObject = isObject;\n  lodash.isPlainObject = isPlainObject;\n  lodash.isRegExp = isRegExp;\n  lodash.isString = isString;\n  lodash.isUndefined = isUndefined;\n  lodash.lastIndexOf = lastIndexOf;\n  lodash.mixin = mixin;\n  lodash.noConflict = noConflict;\n  lodash.random = random;\n  lodash.reduce = reduce;\n  lodash.reduceRight = reduceRight;\n  lodash.result = result;\n  lodash.size = size;\n  lodash.some = some;\n  lodash.sortedIndex = sortedIndex;\n  lodash.template = template;\n  lodash.unescape = unescape;\n  lodash.uniqueId = uniqueId;\n\n  // add aliases\n  lodash.all = every;\n  lodash.any = some;\n  lodash.detect = find;\n  lodash.foldl = reduce;\n  lodash.foldr = reduceRight;\n  lodash.include = contains;\n  lodash.inject = reduce;\n\n  forOwn(lodash, function(func, methodName) {\n    if (!lodash.prototype[methodName]) {\n      lodash.prototype[methodName] = function() {\n        var args = [this.__wrapped__];\n        push.apply(args, arguments);\n        return func.apply(lodash, args);\n      };\n    }\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // add functions capable of returning wrapped and unwrapped values when chaining\n  lodash.first = first;\n  lodash.last = last;\n\n  // add aliases\n  lodash.take = first;\n  lodash.head = first;\n\n  forOwn(lodash, function(func, methodName) {\n    if (!lodash.prototype[methodName]) {\n      lodash.prototype[methodName]= function(callback, thisArg) {\n        var result = func(this.__wrapped__, callback, thisArg);\n        return callback == null || (thisArg && typeof callback != 'function')\n          ? result\n          : new lodash(result);\n      };\n    }\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The semantic version number.\n   *\n   * @static\n   * @memberOf _\n   * @type String\n   */\n  lodash.VERSION = '1.0.2';\n\n  // add \"Chaining\" functions to the wrapper\n  lodash.prototype.toString = wrapperToString;\n  lodash.prototype.value = wrapperValueOf;\n  lodash.prototype.valueOf = wrapperValueOf;\n\n  // add `Array` functions that return unwrapped values\n  each(['join', 'pop', 'shift'], function(methodName) {\n    var func = arrayRef[methodName];\n    lodash.prototype[methodName] = function() {\n      return func.apply(this.__wrapped__, arguments);\n    };\n  });\n\n  // add `Array` functions that return the wrapped value\n  each(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n    var func = arrayRef[methodName];\n    lodash.prototype[methodName] = function() {\n      func.apply(this.__wrapped__, arguments);\n      return this;\n    };\n  });\n\n  // add `Array` functions that return new wrapped values\n  each(['concat', 'slice', 'splice'], function(methodName) {\n    var func = arrayRef[methodName];\n    lodash.prototype[methodName] = function() {\n      return new lodash(func.apply(this.__wrapped__, arguments));\n    };\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  // some AMD build optimizers, like r.js, check for specific condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash was injected by a third-party script and not intended to be\n    // loaded as a module. The global assignment can be reverted in the Lo-Dash\n    // module via its `noConflict()` method.\n    window._ = lodash;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return lodash;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports) {\n    // in Node.js or RingoJS v0.8.0+\n    if (freeModule) {\n      (freeModule.exports = lodash)._ = lodash;\n    }\n    // in Narwhal or RingoJS v0.7.0-\n    else {\n      freeExports._ = lodash;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    window._ = lodash;\n  }\n}(this));\n","import React from 'react';\nimport {Link, RouteHandler} from 'react-page';\n\nexport default class Main extends React.Component {\n\n  render() {\n\n    return (\n      <div id=\"Main\">\n        <header>\n          <h1>\n            <Link to=\"app\"><img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODAuMjQ5IiBoZWlnaHQ9IjMxLjgzMyI+PGcgZmlsbD0iI0ZGRiI+PHBhdGggZD0iTTE2MC4xIDExLjE4OGMtMi4xOTIgMC00LjA1LjEyMy00Ljk3LjM5My0uMDM3LjAxLS4wNzMuMDI2LS4xMDcuMDQtLjAyMy4wMTQtLjA0NS4wMi0uMDY1LjAzMy0uMjg3LjEzNS0uNDg3LjQwNC0uNDgyLjc5di4wMTNsLS4wMDUtLjAwNC4wMDYgMTAuMTZjMCAuMTk3LjEzNi40NjUuNDYuNDY1aDIuMjE0Yy4zMyAwIC40NC0uMjguNDQtLjQ3bC0uMDItOC41MzhjLjc5LS4xNCAyLjE4Ny0uMTQ2IDIuMTg3LS4xNDYgMy4wNC4wMjMgMi45OSAyLjM3IDIuOTkgMi4zN3Y2LjM2NGMwIC4yMTcuMTgyLjQ0NS40NDcuNDQ1bDIuMi4wMDJjLjI3NCAwIC40ODItLjE4OC40ODItLjQ0My4wMDUtLjA4Mi4wMS00LjYwNC0uMDE0LTYuOTA2LS4wMy0yLjc0Ny0yLjA4Ny00LjU2OC01Ljc2LTQuNTY4ek0xMzMuMjA2IDExLjIyNmMtMS4xNjMgMC0yLjUyMy4zOTUtMi41MjMuMzk1bC4wMDMtMy4wMzhjMC0uMTg4LS4xNS0uNDUzLS40NDUtLjQ1M2gtMi4xM2MtLjE4MyAwLS40NzQuMTA4LS40NzQuNDhsLS4wMDUgMTMuNDEzaC4wMDRjMCAuMDEtLjAwMy4wMTQtLjAwMy4wMjMuMDA2LjQzNC4zMTMuNzkzLjcyNS44NzMuMDA1IDAgLjAwOC4wMDUuMDEyLjAwNSAyLjAwMi4zMzYgMy45MzIuMzEyIDMuOTMyLjMxMiAyLjQ5IDAgNi43NzItLjQ4IDYuNzcyLTYuMDA4IDAtNS41MjQtNC43MDUtNi4wMDQtNS44NjYtNi4wMDR6bS0yLjQ2OCA5LjQwNGwtLjAyNS02LjI2NHMuNjgtLjc5IDIuMDk0LS43OWMxLjQxOCAwIDMuMTQgMS4xNTMgMy4xNCAzLjU2IDAgMi41NS0uODc2IDQuMDc0LTUuMjEgMy40OTR6TTUzLjQwNSA4LjEzSDUwLjk4Yy0uMTg1LjAwNi0uMzQuMTI3LS4zNDIuMzM2VjE0LjA2OGgtNS45OGwtLjAwMy01LjQ3NWMwLS4yNy0uMjE4LS40NjMtLjQ1Ni0uNDYzSDQyLjA0Yy0uMTU3IDAtLjQ2Mi4xLS40NjIuNDk4djEzLjc0NC0uMDIzLjMxYzAgLjI2LjIyOC40MzIuNDQuNDMybC4wMDQuMDAyaDIuMTg1bC0uMjYzLjAwNi4yOC0uMDA2Yy4yMTcgMCAuNDM2LS4xOTUuNDM2LS40NDV2LTYuMTAyaDUuOTgydjYuMTE3YzAgLjI2Ni4yNTUuNDMuNDYyLjQzbDIuMTguMDA2Yy4zNDMgMCAuNDU3LS4yNi40NjMtLjQ3bC4wMDQtMTQuMTZoLS4wMDNjLS4wMDMtLjE5LS4xNTQtLjM0Mi0uMzQyLS4zNHpNOTguMjUzIDIwLjg1OGMwLS4zNDQtLjI4Ni0uNDY3LS40NzUtLjQ2bC0xLjE5Ny4xYy0xLjc1Ny4xNDQtMS43MjgtLjg3Ni0xLjcyOC0uODc2bC0uMDA0LTExYzAtLjMxNi0uMjY1LS40MzgtLjQ1LS40MzhsLTIuMjEzLS4wMDRjLS4xOC4wMTItLjQ1LjEyNS0uNDUuNDZ2MTAuNjEyYzAgMy40MDIgMi42MDcgMy45OTYgNC4wOCAzLjk5Ni4zMzMgMCAuNjQyLS4wMTIuOTItLjAyNy41NDUtLjAyOC44NTgtLjA3IDEuMTE3LS4xMS4wMi0uMDAyLS4wMDMgMCAuMDEtLjAwNi4yMi0uMDI1LjM5Mi0uMjMyLjM5Mi0uNDI0di0xLjgyMnpNNzUuOTk1IDIwLjM5N0w3NC44IDIwLjVjLTEuNzU3LjE0Mi0xLjczLS44NzgtMS43My0uODc4di02LjA3bDIuNDUyLS4wMDJjLjMxMiAwIC40NjgtLjIzMi40NjgtLjQzNGwuMDAzLTEuNDYzYzAtLjMyOC0uMjcyLS40NzctLjQ2LS40NzNsLTIuNDYyLjAwMi0uMDA2LTIuMzZjMC0uNDcyLS4zOC0uNTctLjU4OC0uNTE3bC0xLjg3OC4zOTV2LjAwNGMtLjM1NS4wOTQtLjYyNS4zNzctLjY0LjgwNWgtLjAwM3YuMDM2bC0uMDAyLjAwOC4wMDIuMDF2OS42OWMwIDMuNCAyLjYwNiAzLjk5NSA0LjA4IDMuOTk1LjMzMiAwIC42NC0uMDEzLjkxNi0uMDI4LjU1My0uMDMuODczLS4wNzIgMS4xMy0uMTEuMDMtLjAwNyAwIC4wMDMuMDItLjAwNy4yOTQtLjA0NS4zNjctLjMyLjM2Ny0uNDY3bC0uMDAyLTEuNzY0YzAtLjM2My0uMjg3LS40ODItLjQ3LS40Nzd6TTEyNS44MzUgMTEuODUzYy4wMzYtLjI5LS4xOTQtLjQ2My0uMzY2LS40OS0uMDE1LS4wMDgtLjc5LS4xMDItMS4zNzItLjE1OC0uMjc1LS4wMy0uNzMtLjA2Mi0xLjA2NS0uMDYyLTEuNDc0IDAtMy45MTQuNjQzLTMuOTE0IDQuMDQzdjEuNTU2bC4wMDIgNS44ODdjMCAuMjI4LjE1LjQ3NC40Ni40NzRoMi4yMjRjLjE4Ni0uMDA0LjQzLS4xNTguNDMtLjQ2VjE0LjYyOHMtLjE2LTEuMDk0IDEuNzMtLjg4YzAgMCAxLjAzLjA5NyAxLjE0NC4xMDYuMTg2LjAxOC40MTMtLjA5LjQ4LS4zNjUtLjAwMyAwIC4yNDUtMS42MzIuMjQ1LTEuNjM1ek0xNzkuNjk3IDE3LjMzN2MwLTYuNDMyLTYuMDA4LTYuMTctNi4wMDgtNi4xN2gtLjI2Yy0xLjM0LjA1LTUuNjg1LjYyNS01LjY4NSA2LjA5MiAwIDAtLjM3MyA2LjAyNiA1LjgxIDYuMDI2aC40NmM2LjE4IDAgNS42ODItNS45NSA1LjY4Mi01Ljk1em0tNS45MDcgMy41MTZjLTIgMC0zLjAxNS0xLjU4Ni0zLjAxNS0zLjU1cy45NzMtMy42NTMgMi44ODctMy42NTNjMS45NDQgMCAzLjAzNiAxLjY4OCAzLjAzNiAzLjY1MnMtLjk2MiAzLjU1LTIuOTA4IDMuNTV6TTYxLjg3NyAxMS4xNjdoLS4yNThjLTEuMzQzLjA1LTUuNjg1LjYyNS01LjY4NSA2LjA5MiAwIDAtLjM3MyA2LjAyNiA1LjgxIDYuMDI2aC40NThjNi4xODIgMCA1LjY4Mi01Ljk1IDUuNjgyLTUuOTUgMC02LjQzLTYuMDA4LTYuMTctNi4wMDgtNi4xN3ptLjEwMyA5LjY4NmMtMi4wMDQgMC0zLjAxNi0xLjU4Ni0zLjAxNi0zLjU1cy45NzItMy42NTMgMi44ODUtMy42NTNjMS45NDMgMCAzLjAzNSAxLjY4OCAzLjAzNSAzLjY1MnMtLjk2IDMuNTUtMi45MDUgMy41NXpNMTE2LjUwNCA4LjU3NWMwLS4xOC0uMTItLjQ1LS40NzctLjQ1bC0yLjA5Ny0uMDA1Yy0uMjIzIDAtLjQ2OC4xNDMtLjQ2OC40NjdsLjAwNyAxMS45NWgtMy41MTNjLTEuNTk3IDAtMi4zOTUtLjc4NC0yLjM5NS0yLjM0N2wtLjAxNC05LjYzYzAtLjIyNC0uMjQ0LS40NDQtLjQzMy0uNDRsLTIuMjIyLjAwNGMtLjMgMC0uNDg1LjIzLS40OS40MzJsLS4wMDcgOS43MDdjMCAuNzEuMTU4IDEuMzM4LjQzNyAxLjkyNHMuNjU1IDEuMDkyIDEuMTM0IDEuNTE4Yy40OC40MyAxLjA0Ni43NiAxLjcuOTkyLjY1LjIyNyAxLjM1LjM0OCAyLjEuMzQ4bDUuODYtLjAwNmMuMDE1IDAgLjAyNi0uMDA1LjA0LS4wMDcuNDYyLS4wMjcuODM1LS4zODUuODQ4LS44NTJ2LS4wMTNjLjAwMiAwLS4wMS0xMy41OS0uMDEtMTMuNTkyek04My43OTIgMTEuMTY1Yy01LjM4IDAtNS45NzQgNC4zODMtNS45NzQgNS43OXMuMDE0IDYuMjcgNi40MyA2LjI3YzAgMCAyLjIzNC4wOSA0LjQ0LS43MDZsLjAyNy0uMDFjLjIxLS4wNjMuMzQ2LS4zMTIuMjc4LS41ODdsLS4yNzMtMS4yNTZjLS4wNjgtLjIzOC0uMzE1LS4zOTMtLjU2LS4zMzggMCAwLTEuNzY1LjUtMy42NzcuNS0zLjQ2IDAtMy42MjYtMi42Ni0zLjYyNi0yLjY2bDcuOTA3LS4wMDNjLjE5OCAwIC40NjgtLjExNS40NjgtLjUwNmwuMDAzLTEuNDA3czAtNS4wODgtNS40NDMtNS4wODh6bS0yLjk0NyA0LjcxN3MuMTgtMi4zMDcgMi44Ny0yLjMwN2MyLjQ5OCAwIDIuNTY0IDIuMzA3IDIuNTY0IDIuMzA3aC01LjQzNXpNMTQ2LjM0NSAxMS4xNzNjLTIuMzE4LjAwMi00LjM5Ni43NDQtNC4zOTYuNzQ0bC0uMDYzLjAyYy0uMTg2LjA2LS4zNzQuMjgtLjI5Ni41N2wuNDA2IDEuMzk3Yy4wNzYuMjc1LjMzLjM4My41OTcuMzE2IDAgMCAxLjc2LS42MyAzLjY3My0uNjgyIDIuOTQzLS4wNzYgMi43NyAxLjMwMyAyLjc3IDEuOTcuMDA0LjIyNiAwIC4xNTcgMCAuMTU3bC0uMjYuMDAyaC00LjIwNnMtMy44ODctLjA5NC0zLjg4NyAzLjgyOGMwIDMuODU3IDQuNzI4IDMuNjkzIDQuNzI4IDMuNjkzIDUuNTY0LjA3MiA1Ljk1Mi0uMSA1Ljk1Mi0uMXMuNjg1IDAgLjY4NS0uODA3di03LjA2YzAtLjkuMjA1LTQuMDQ3LTUuNzAyLTQuMDQ3em0tMS4xODYgOS41OHMtMS42MDQuMDQtMS42MDQtMS4zOWMwLTEuNTc1IDEuODEtMS40OSAxLjgxLTEuNDloMy42MzhsLjAxIDIuODY0LTMuODU1LjAxNnoiLz48L2c+PGcgZmlsbD0iI0ZGRiI+PHBhdGggZD0iTTM3LjE4LjIyNWMtLjEwOC0uMTQtLjIyNy0uMTQzLS4zMDMtLjE0M0wzMy41Ni4wODZjLTEuNzMgMC0yLjgzMy45NC0zLjI3NiAyLjgxbC01LjA4IDI3LjkzNWMtLjAyNS4xMjQtLjAzLjI1NS4wNS4zNTUuMDc3LjA5Mi4yNTMuMTM1LjMyNC4xMzVsMi4xMi4wMWMuODkzIDAgMi41NzMtLjUyNSAzLjA4OC0yLjYzN0wzNy4yMjQuNTVjLjAxMi0uMDcuMDM3LS4yMi0uMDQ0LS4zMjV6TTguNzk3IDEyLjYzNWwtLjAyNi0uMTVMNy4wMyAyLjg3M0M2LjU5IDEuMDI1IDUuNDg4LjA4MyAzLjc1OC4wODNMLjQxOC4wNzdILjQwNUMuMzIuMDc4LjIwNC4xNDIuMTMuMjMuMDY0LjMxLjA3NC40NTMuMDkuNTI3bDYuNDQyIDI4LjE3Yy40NzggMi4wMiAyLjE2IDIuNjI1IDMuMDU1IDIuNjI1bDIuMTgtLjAwOGMuMDcgMCAuMjEzLS4wMy4yOS0uMTIzLjA4LS4wOTcuMDgtLjI0LjA1Ni0uMzZsLTEuNC03LjYyYy0uMDU1LS4yNjUuMDUtLjQwMy4wNS0uNDAzLjE1LS4xNi4zNTMtLjEuMzUzLS4xIDIuMTEyLjcyMyAzLjk3Mi42NTQgMy45NzIuNjU0IDYuMTA2IDAgOS40MDgtNC4zNjggOS40MDgtNC4zNjgtMS41NjcgMS4yMS0zLjg5NiAxLjk0LTUuODQ1IDEuOTQtNC45NSAwLTkuMDY3LTMuNTk2LTkuODUzLTguMjk3eiIvPjwvZz48cGF0aCBmaWxsPSIjRkJCMDM0IiBkPSJNMTguNjYyIDE5LjdjNC43NiAwIDguNjMtMy44NyA4LjYzLTguNjMyIDAtMS43NDQtLjUyLTMuMzctMS40MTYtNC43MzQtMS41NDQtMi4zNDYtNC4yMDItMy44OTYtNy4yMTQtMy44OTYtNC43NiAwLTguNjMyIDMuODczLTguNjMyIDguNjMgMCAxLjk1NC42NSAzLjc1NSAxLjc0NCA1LjIwMiAxLjU3OCAyLjA4NCA0LjA4IDMuNDMgNi44ODggMy40M3ptMC0xMy44NDNjMi44NzQgMCA1LjIxMyAyLjMzNiA1LjIxMyA1LjIxIDAgMi44NzgtMi4zNCA1LjIxOC01LjIxMyA1LjIxOC0yLjg3NyAwLTUuMjE0LTIuMzQtNS4yMTQtNS4yMTcgMC0yLjg3NSAyLjMzNy01LjIxIDUuMjE0LTUuMjF6Ii8+PHBhdGggZmlsbD0iI0U4N0QxRSIgZD0iTTExLjc5MiAxNi4yNzVjMS41NzggMi4wODQgNC4wNzcgMy40MzQgNi44ODggMy40MzQgNC43NiAwIDguNjMtMy44NzQgOC42My04LjYzNCAwLTEuNzQ2LS41Mi0zLjM3NS0xLjQxNy00LjczNmwtLjE2Ni0uMjI3Yy4yOTQuODEuNDU1IDEuNjguNDU1IDIuNTkgMCA0LjE3NC0zLjMxOCA3LjU4Mi03LjQ2MyA3LjU4MmgtLjA5NWMtMi44NzYgMC01LjE1Ny0yLjMzOC01LjE1Ny01LjIxMyAwLTIuODczIDIuMzM4LTUuMjEgNS4yMTQtNS4yMWwuMDM1LjAwNWMtNC4xNDggMC03LjUxOCAzLjM1NS03LjUxOCA3LjUwNiAwIDEuMDIuMjAzIDEuOTk0LjU3MyAyLjg4M2wuMDIuMDJ6Ii8+PC9zdmc+\" alt=\"Hotel Urbano\" title=\"Hotel Urbano\" /></Link>\n          </h1>\n        </header>\n\t\t    <RouteHandler />\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport {actions, store} from './../flux'\nimport Loading from './Loading'\nimport Offers from './Offers'\n\nexport default class Home extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { loading: true };\n  }\n\n  componentDidMount() {\n\n    actions.offers.list()\n      .then(() => this.setState({loading: false}));\n  }  \n\n  render() {\n\n    const {loading} = this.state;\n    const offers = store.offers.getOffers();\n\n    return (\n      <div id=\"Home\">\n        <div className=\"container\">\n\t\t      <h1 className=\"section-title\">Ofertas de viagens</h1>\n          {\n            loading ? <Loading /> : <Offers offers={offers} />\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {findDOMNode} from 'react'\nimport {actions, store} from './../flux'\nimport Options from './Options'\n\nexport default class Offer extends React.Component {\n\n  componentDidMount() {\n    LazyLoad.css([\n      `${hU.baseURL}vendors/slick/slick.css`,\n      `${hU.baseURL}vendors/slick/slick-theme.css`\n    ], this._slick.bind(this));\n  }\n\n  _slick() {\n    $(findDOMNode(this.refs.slick)).slick({\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      arrows: false,\n      fade: true,\n      asNavFor: '.nav'\n    });\n\n    $(findDOMNode(this.refs.slickNav)).slick({\n      slidesToShow: 0,\n      slidesToScroll: 1,\n      asNavFor: '.wrapper',\n      focusOnSelect: true\n    });\n  }\n\n  render() {\n\n    const offer = store.offers.getOffer();\n\n    return(\n      <div id=\"Offer\">\n        <div className=\"container\">\n          <header>\n            <h1 className=\"title\">{offer.title}</h1>\n            <h2 className=\"location\">{offer.location}</h2>\n            <p>{offer.description}</p>\n          </header>\n          <div className=\"slideshow\">\n            <div className=\"wrapper\" ref=\"slick\">\n              {\n                offer.photos.map((photo, i) =>\n                  <div className=\"slide\"  key={i} style={{backgroundImage: `url(${hU.baseURL}${photo})`}}>\n                    <img src={`${hU.baseURL}${photo}`} />\n                  </div>\n                )\n              }\n            </div>\n            <div className=\"nav\" ref=\"slickNav\">\n              {\n                offer.photos.map((photo, i) =>\n                  <div className=\"slide\"  key={i} style={{backgroundImage: `url(${hU.baseURL}${photo})`}}>\n                    <img src={`${hU.baseURL}${photo}`} />\n                  </div>\n                )\n              }\n            </div>\n          </div>\n          <Options options={offer.options} />\n        </div>\n      </div>\n    );\n  }\n}\n","import numeral from 'numeral';\n\nnumeral.language('pt-br', {\n  currency: {\n    symbol: 'R$'\n  },  \n  delimiters: {\n    thousands: '.',\n    decimal: ','\n  }\n});\n\nnumeral.language('pt-br');\n\nexport {numeral};\n","import McFly from 'mcfly';\n\nconst Flux = new McFly();\n\n// SET ACTIONS\nconst OffersActions = Flux.createActions(\n  {\n    list: () => new Promise(function(resolve, reject) {\n      $.get(`${hU.baseURL}api/offers`)\n        .done((data) => resolve(data))\n        .fail((jqxhr, textStatus, error) => console.log(error));\n      })\n      .then((result) => ({\n        data: result,\n        actionType: \"OFFERS\"\n    })),\n\n    get: (id) => new Promise(function(resolve, reject) {\n      $.get(`${hU.baseURL}api/offer/${id}`)\n       .done((data) => resolve(data))\n       .fail((jqxhr, textStatus, error) => console.log(error));\n      })\n    .then((result) => ({\n      data: result,\n      actionType: \"OFFER\"\n    }))\n  }\n);\n\n// SET STORES\nconst OffersStore = Flux.createStore(\n  {\n    setOffers: function(data) {\n      this.offers = data;\n    },\n\n    getOffers: function() {\n      return this.offers;\n    },\n\n    setOffer: function(data) {\n      this.offer = data;      \n    },\n\n    getOffer: function() {\n      return this.offer;\n    }\n  },\n\n  function(payload){\n    switch(payload.actionType) {\n      case 'OFFERS':\n        OffersStore.setOffers(payload.data);\n        break;\n\n      case 'OFFER':\n        OffersStore.setOffer(payload.data);\n        break;\n\n      default:\n        return false;\n    }\n\n    return true;\n  }\n);\n\n// HELPER\nconst aliases = {\n  actions: {\n    offers: OffersActions\n  },\n\n  store: {\n    offers: OffersStore\n  }\n}\n\nmodule.exports = aliases;\n","import React from 'react'\nimport {Link} from 'react-page'\n\nexport default class Offers extends React.Component {\n\n  _randonImageKey(min, max) {\n    return parseInt(Math.random() * (max - min) + min);\n  }\n\n  render() {\n    const {offers} = this.props;\n\n    return(\n      <div id=\"Offers\">\n        <div className=\"row\">\n          {\n            offers.map(({description, id, location, photos, title}, index) =>\n              <div className=\"column\" key={index}>\n                <Link to=\"offer\" params={{id: id}}>\n                  <div className=\"image\" style={{backgroundImage: `url(${photos[this._randonImageKey(1,5)]})`}} />\n                  <div className=\"info\">\n                    <p className=\"location\">{location}</p>\n                    <h2 className=\"title\">{title}</h2>\n                    <p className=\"description\">{description}</p>\n                  </div>\n                </Link>\n              </div>\n            )\n          }\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport Numeral from 'numeral'\nimport {flatten, sortBy, uniq} from 'lodash'\nimport Warning from './Warning'\nimport randomKey from './../helpers/randomKey'\n\nexport default class Options extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {options: []}\n  }\n\n  componentDidMount() {\n    const {options} = this.props;\n    this.setState({options: sortBy(options, 'price')});\n  }\n\n  _daily(options) {\n    const dailyArr = options.map((option, index) => option.daily);\n    return uniq(dailyArr);\n  }\n\n  _departures(options) {\n    const departuresArr = options.map(option => option.from.map(location => location));\n    return uniq(flatten(departuresArr)).sort();\n  }\n\n  _filterDeparture(e) {\n    const {options} = this.props;\n    const filteredOpts = [];\n\n    options.forEach((option) => {\n        option.from.forEach((location) =>{\n          if(location === e.target.value) filteredOpts.push(option);\n        })\n      });\n\n    this.setState({options: sortBy(filteredOpts, 'price')});\n  }\n\n  _filterDaily(e) {\n    const {options} = this.props;\n    const filteredOpts = [];\n\n    options.forEach((option) => {\n      if(option.daily === Number(e.target.value)) filteredOpts.push(option);\n    });\n\n    this.setState({options: sortBy(filteredOpts, 'price')});\n  }\n\n  render() {\n    const options = this.state.options || [];\n    const srcDaily = this._daily(this.props.options);\n    const srcDepartures = this._departures(this.props.options);\n\n    return(\n      <div className=\"options\">\n        <header>\n          <p className=\"section-title\">Escolha sua melhor opção</p>\n          <form>\n            <div className=\"form-control\">\n              <label>Saídas: </label>\n              <div className=\"select-wrapper\">\n                <select onChange={this._filterDeparture.bind(this)}>\n                  <option>Escolha</option>\n                  {\n                    srcDepartures.map((departure, i) =>\n                      <option key={i} value={departure}>{departure}</option>\n                    )\n                  }\n                </select>\n              </div>\n            </div>\n            <div className=\"form-control\">\n              <label>N. de diárias: </label>\n              <div className=\"select-wrapper\">\n                <select onChange={this._filterDaily.bind(this)}>\n                  <option>Escolha</option>\n                  {\n                    srcDaily.map((daily, i) =>\n                      <option key={i} value={daily}>{daily}</option>\n                    )\n                  }\n                </select>\n              </div>\n            </div>\n          </form>\n        </header>\n        {\n          options.map((option, index) =>\n            <div className=\"option\" key={index}>\n              <div className=\"info\">\n                <div className=\"wrapper\">\n                  <h3 className=\"title\">{option.title}</h3>\n                  <p>{option.description}</p>\n                </div>\n              </div>\n              <div className=\"departures\">\n                <div className=\"wrapper\">\n                  <p className=\"title\">Saídas:</p>\n                  <ul>\n                    {\n                      option.from.map((locale, index) =>\n                        <li key={index}>{locale}</li>\n                      )\n                    }\n                  </ul>\n                </div>\n              </div>\n              <div className=\"specs\">\n                <div className=\"wrapper\">\n                  <div className=\"daily\">\n                    <p>{option.daily} <i className=\"icon-calendar-day\"></i></p>\n                    <p className=\"small\">Diárias</p>\n                  </div>\n                  <div className=\"person\">\n                    <p>1 <i className=\"icon-user\"></i></p>\n                    <p className=\"small\">Pessoa</p>\n                  </div>\n                </div>\n              </div>\n              <div className=\"price\">\n                <div className=\"wrapper\">\n                  <Warning k={randomKey(0,2)} />\n                  <p>Por apenas:</p>\n                  <p className=\"price-value\"><span>R$</span> {Numeral(option.price).format('0,0')}</p>\n                  <p className=\"taxes\">+ taxas  em 10x</p>\n                  <button className=\"buy\">quero ir</button>\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n","import React from 'react'\n\nexport default class Loading extends React.Component {\n\n  render() {\n\n    return(\n      <div id=\"Loading\">\n        <p>Carregando...</p>\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport randomKey from './../helpers/randomKey'\nimport warnings from './../helpers/warnings'\n\nexport default class Warning extends React.Component {\n\n  render() {\n\n    const {k} = this.props;\n\n    return(\n      <p className={`warning ${warnings[k].color}`}>{warnings[k].msg}</p>\n    )\n  }\n}\n","const randomKey = function(min, max) {\n    return parseInt(Math.random() * (max - min) + min);\n  }\n\nexport default randomKey;\n","/*!\n * numeral.js\n * version : 1.5.3\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function () {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var numeral,\n        VERSION = '1.5.3',\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n        zeroFormat = null,\n        defaultFormat = '0,0',\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n\n    // Numeral prototype object\n    function Numeral (number) {\n        this._value = number;\n    }\n\n    /**\n     * Implementation of toFixed() that treats floats more like decimals\n     *\n     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n     * problems for accounting- and finance-related software.\n     */\n    function toFixed (value, precision, roundingFunction, optionals) {\n        var power = Math.pow(10, precision),\n            optionalsRegExp,\n            output;\n            \n        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);\n        // Multiply up by precision, round accurately, then divide and use native toFixed():\n        output = (roundingFunction(value * power) / power).toFixed(precision);\n\n        if (optionals) {\n            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');\n            output = output.replace(optionalsRegExp, '');\n        }\n\n        return output;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n    // determine what type of formatting we need to do\n    function formatNumeral (n, format, roundingFunction) {\n        var output;\n\n        // figure out what kind of format we are dealing with\n        if (format.indexOf('$') > -1) { // currency!!!!!\n            output = formatCurrency(n, format, roundingFunction);\n        } else if (format.indexOf('%') > -1) { // percentage\n            output = formatPercentage(n, format, roundingFunction);\n        } else if (format.indexOf(':') > -1) { // time\n            output = formatTime(n, format);\n        } else { // plain ol' numbers or bytes\n            output = formatNumber(n._value, format, roundingFunction);\n        }\n\n        // return string\n        return output;\n    }\n\n    // revert to number\n    function unformatNumeral (n, string) {\n        var stringOriginal = string,\n            thousandRegExp,\n            millionRegExp,\n            billionRegExp,\n            trillionRegExp,\n            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            bytesMultiplier = false,\n            power;\n\n        if (string.indexOf(':') > -1) {\n            n._value = unformatTime(string);\n        } else {\n            if (string === zeroFormat) {\n                n._value = 0;\n            } else {\n                if (languages[currentLanguage].delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');\n                }\n\n                // see if abbreviations are there so that we can multiply to the correct number\n                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\\\)|(\\\\' + languages[currentLanguage].currency.symbol + ')?(?:\\\\))?)?$');\n\n                // see if bytes are there so that we can multiply to the correct number\n                for (power = 0; power <= suffixes.length; power++) {\n                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;\n\n                    if (bytesMultiplier) {\n                        break;\n                    }\n                }\n\n                // do some math to create our number\n                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\\.]+/g, ''));\n\n                // round if we are talking about bytes\n                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;\n            }\n        }\n        return n._value;\n    }\n\n    function formatCurrency (n, format, roundingFunction) {\n        var symbolIndex = format.indexOf('$'),\n            openParenIndex = format.indexOf('('),\n            minusSignIndex = format.indexOf('-'),\n            space = '',\n            spliceIndex,\n            output;\n\n        // check for space before or after currency\n        if (format.indexOf(' $') > -1) {\n            space = ' ';\n            format = format.replace(' $', '');\n        } else if (format.indexOf('$ ') > -1) {\n            space = ' ';\n            format = format.replace('$ ', '');\n        } else {\n            format = format.replace('$', '');\n        }\n\n        // format the number\n        output = formatNumber(n._value, format, roundingFunction);\n\n        // position the symbol\n        if (symbolIndex <= 1) {\n            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {\n                output = output.split('');\n                spliceIndex = 1;\n                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){\n                    // the symbol appears before the \"(\" or \"-\"\n                    spliceIndex = 0;\n                }\n                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);\n                output = output.join('');\n            } else {\n                output = languages[currentLanguage].currency.symbol + space + output;\n            }\n        } else {\n            if (output.indexOf(')') > -1) {\n                output = output.split('');\n                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);\n                output = output.join('');\n            } else {\n                output = output + space + languages[currentLanguage].currency.symbol;\n            }\n        }\n\n        return output;\n    }\n\n    function formatPercentage (n, format, roundingFunction) {\n        var space = '',\n            output,\n            value = n._value * 100;\n\n        // check for space before %\n        if (format.indexOf(' %') > -1) {\n            space = ' ';\n            format = format.replace(' %', '');\n        } else {\n            format = format.replace('%', '');\n        }\n\n        output = formatNumber(value, format, roundingFunction);\n        \n        if (output.indexOf(')') > -1 ) {\n            output = output.split('');\n            output.splice(-1, 0, space + '%');\n            output = output.join('');\n        } else {\n            output = output + space + '%';\n        }\n\n        return output;\n    }\n\n    function formatTime (n) {\n        var hours = Math.floor(n._value/60/60),\n            minutes = Math.floor((n._value - (hours * 60 * 60))/60),\n            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));\n        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);\n    }\n\n    function unformatTime (string) {\n        var timeArray = string.split(':'),\n            seconds = 0;\n        // turn hours and minutes into seconds and add them all up\n        if (timeArray.length === 3) {\n            // hours\n            seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n            // minutes\n            seconds = seconds + (Number(timeArray[1]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[2]);\n        } else if (timeArray.length === 2) {\n            // minutes\n            seconds = seconds + (Number(timeArray[0]) * 60);\n            // seconds\n            seconds = seconds + Number(timeArray[1]);\n        }\n        return Number(seconds);\n    }\n\n    function formatNumber (value, format, roundingFunction) {\n        var negP = false,\n            signed = false,\n            optDec = false,\n            abbr = '',\n            abbrK = false, // force abbreviation to thousands\n            abbrM = false, // force abbreviation to millions\n            abbrB = false, // force abbreviation to billions\n            abbrT = false, // force abbreviation to trillions\n            abbrForce = false, // force abbreviation\n            bytes = '',\n            ord = '',\n            abs = Math.abs(value),\n            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],\n            min,\n            max,\n            power,\n            w,\n            precision,\n            thousands,\n            d = '',\n            neg = false;\n\n        // check if number is zero and a custom zero format has been set\n        if (value === 0 && zeroFormat !== null) {\n            return zeroFormat;\n        } else {\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (format.indexOf('(') > -1) {\n                negP = true;\n                format = format.slice(1, -1);\n            } else if (format.indexOf('+') > -1) {\n                signed = true;\n                format = format.replace(/\\+/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (format.indexOf('a') > -1) {\n                // check if abbreviation is specified\n                abbrK = format.indexOf('aK') >= 0;\n                abbrM = format.indexOf('aM') >= 0;\n                abbrB = format.indexOf('aB') >= 0;\n                abbrT = format.indexOf('aT') >= 0;\n                abbrForce = abbrK || abbrM || abbrB || abbrT;\n\n                // check for space before abbreviation\n                if (format.indexOf(' a') > -1) {\n                    abbr = ' ';\n                    format = format.replace(' a', '');\n                } else {\n                    format = format.replace('a', '');\n                }\n\n                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {\n                    // trillion\n                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;\n                    value = value / Math.pow(10, 12);\n                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {\n                    // billion\n                    abbr = abbr + languages[currentLanguage].abbreviations.billion;\n                    value = value / Math.pow(10, 9);\n                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {\n                    // million\n                    abbr = abbr + languages[currentLanguage].abbreviations.million;\n                    value = value / Math.pow(10, 6);\n                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {\n                    // thousand\n                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;\n                    value = value / Math.pow(10, 3);\n                }\n            }\n\n            // see if we are formatting bytes\n            if (format.indexOf('b') > -1) {\n                // check for space before\n                if (format.indexOf(' b') > -1) {\n                    bytes = ' ';\n                    format = format.replace(' b', '');\n                } else {\n                    format = format.replace('b', '');\n                }\n\n                for (power = 0; power <= suffixes.length; power++) {\n                    min = Math.pow(1024, power);\n                    max = Math.pow(1024, power+1);\n\n                    if (value >= min && value < max) {\n                        bytes = bytes + suffixes[power];\n                        if (min > 0) {\n                            value = value / min;\n                        }\n                        break;\n                    }\n                }\n            }\n\n            // see if ordinal is wanted\n            if (format.indexOf('o') > -1) {\n                // check for space before\n                if (format.indexOf(' o') > -1) {\n                    ord = ' ';\n                    format = format.replace(' o', '');\n                } else {\n                    format = format.replace('o', '');\n                }\n\n                ord = ord + languages[currentLanguage].ordinal(value);\n            }\n\n            if (format.indexOf('[.]') > -1) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            w = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n\n            if (precision) {\n                if (precision.indexOf('[') > -1) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    d = toFixed(value, precision.length, roundingFunction);\n                }\n\n                w = d.split('.')[0];\n\n                if (d.split('.')[1].length) {\n                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];\n                } else {\n                    d = '';\n                }\n\n                if (optDec && Number(d.slice(1)) === 0) {\n                    d = '';\n                }\n            } else {\n                w = toFixed(value, null, roundingFunction);\n            }\n\n            // format number\n            if (w.indexOf('-') > -1) {\n                w = w.slice(1);\n                neg = true;\n            }\n\n            if (thousands > -1) {\n                w = w.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                w = '';\n            }\n\n            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');\n        }\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    numeral = function (input) {\n        if (numeral.isNumeral(input)) {\n            input = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            input = 0;\n        } else if (!Number(input)) {\n            input = numeral.fn.unformat(input);\n        }\n\n        return new Numeral(Number(input));\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function (obj) {\n        return obj instanceof Numeral;\n    };\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    numeral.language = function (key, values) {\n        if (!key) {\n            return currentLanguage;\n        }\n\n        if (key && !values) {\n            if(!languages[key]) {\n                throw new Error('Unknown language : ' + key);\n            }\n            currentLanguage = key;\n        }\n\n        if (values || !languages[key]) {\n            loadLanguage(key, values);\n        }\n\n        return numeral;\n    };\n    \n    // This function provides access to the loaded language data.  If\n    // no arguments are passed in, it will simply return the current\n    // global language object.\n    numeral.languageData = function (key) {\n        if (!key) {\n            return languages[currentLanguage];\n        }\n        \n        if (!languages[key]) {\n            throw new Error('Unknown language : ' + key);\n        }\n        \n        return languages[key];\n    };\n\n    numeral.language('en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    numeral.zeroFormat = function (format) {\n        zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function (format) {\n        defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    /************************************\n        Helpers\n    ************************************/\n\n    function loadLanguage(key, values) {\n        languages[key] = values;\n    }\n\n    /************************************\n        Floating-point helpers\n    ************************************/\n\n    // The floating-point helper functions and implementation\n    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/\n\n    /**\n     * Array.prototype.reduce for browsers that don't support it\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility\n     */\n    if ('function' !== typeof Array.prototype.reduce) {\n        Array.prototype.reduce = function (callback, opt_initialValue) {\n            'use strict';\n            \n            if (null === this || 'undefined' === typeof this) {\n                // At the moment all modern browsers, that support strict mode, have\n                // native implementation of Array.prototype.reduce. For instance, IE8\n                // does not support strict mode, so this check is actually useless.\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n            \n            if ('function' !== typeof callback) {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var index,\n                value,\n                length = this.length >>> 0,\n                isValueSet = false;\n\n            if (1 < arguments.length) {\n                value = opt_initialValue;\n                isValueSet = true;\n            }\n\n            for (index = 0; length > index; ++index) {\n                if (this.hasOwnProperty(index)) {\n                    if (isValueSet) {\n                        value = callback(value, this[index], index, this);\n                    } else {\n                        value = this[index];\n                        isValueSet = true;\n                    }\n                }\n            }\n\n            if (!isValueSet) {\n                throw new TypeError('Reduce of empty array with no initial value');\n            }\n\n            return value;\n        };\n    }\n\n    \n    /**\n     * Computes the multiplier necessary to make x >= 1,\n     * effectively eliminating miscalculations caused by\n     * finite precision.\n     */\n    function multiplier(x) {\n        var parts = x.toString().split('.');\n        if (parts.length < 2) {\n            return 1;\n        }\n        return Math.pow(10, parts[1].length);\n    }\n\n    /**\n     * Given a variable number of arguments, returns the maximum\n     * multiplier that must be used to normalize an operation involving\n     * all of them.\n     */\n    function correctionFactor() {\n        var args = Array.prototype.slice.call(arguments);\n        return args.reduce(function (prev, next) {\n            var mp = multiplier(prev),\n                mn = multiplier(next);\n        return mp > mn ? mp : mn;\n        }, -Infinity);\n    }        \n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n\n    numeral.fn = Numeral.prototype = {\n\n        clone : function () {\n            return numeral(this);\n        },\n\n        format : function (inputString, roundingFunction) {\n            return formatNumeral(this, \n                  inputString ? inputString : defaultFormat, \n                  (roundingFunction !== undefined) ? roundingFunction : Math.round\n              );\n        },\n\n        unformat : function (inputString) {\n            if (Object.prototype.toString.call(inputString) === '[object Number]') { \n                return inputString; \n            }\n            return unformatNumeral(this, inputString ? inputString : defaultFormat);\n        },\n\n        value : function () {\n            return this._value;\n        },\n\n        valueOf : function () {\n            return this._value;\n        },\n\n        set : function (value) {\n            this._value = Number(value);\n            return this;\n        },\n\n        add : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum + corrFactor * curr;\n            }\n            this._value = [this._value, value].reduce(cback, 0) / corrFactor;\n            return this;\n        },\n\n        subtract : function (value) {\n            var corrFactor = correctionFactor.call(null, this._value, value);\n            function cback(accum, curr, currI, O) {\n                return accum - corrFactor * curr;\n            }\n            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            \n            return this;\n        },\n\n        multiply : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) * (curr * corrFactor) /\n                    (corrFactor * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback, 1);\n            return this;\n        },\n\n        divide : function (value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = correctionFactor(accum, curr);\n                return (accum * corrFactor) / (curr * corrFactor);\n            }\n            this._value = [this._value, value].reduce(cback);            \n            return this;\n        },\n\n        difference : function (value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n\n    };\n\n    /************************************\n        Exposing Numeral\n    ************************************/\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = numeral;\n    }\n\n    /*global ender:false */\n    if (typeof ender === 'undefined') {\n        // here, `this` means `window` in the browser, or `global` on the server\n        // add `numeral` as a global object via a string identifier,\n        // for Closure Compiler 'advanced' mode\n        this['numeral'] = numeral;\n    }\n\n    /*global define:false */\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return numeral;\n        });\n    }\n}).call(this);\n","module.exports = require('./lib/McFly');","const warnings = [\n  {\n    msg: '$ Tarifa não reembolsável',\n    color: 'orange'\n  },\n  {\n    msg: '$ Cancelamento grátis',\n    color: 'green'\n  }\n];\n\nexport default warnings;\n","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Dispatcher = require('./Dispatcher');\n\nvar _Dispatcher2 = _interopRequireDefault(_Dispatcher);\n\nvar _Store = require('./Store');\n\nvar _Store2 = _interopRequireDefault(_Store);\n\nvar _ActionsFactory = require('./ActionsFactory');\n\nvar _ActionsFactory2 = _interopRequireDefault(_ActionsFactory);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Main McFly Class\n */\n\nvar McFly = function () {\n\n  /**\n   * Instatiates McFly along with actions object, stores array and sets\n   * dispatcher to Dispatcher.\n   *\n   * @constructor\n   */\n\n  function McFly() {\n    _classCallCheck(this, McFly);\n\n    this.actions = {};\n    this.stores = [];\n    this.dispatcher = _Dispatcher2.default;\n  }\n\n  /**\n   * Creates an instance of a Store, registers the supplied callback with the\n   * dispatcher, and pushes it into the global list of stores\n   *\n   * @param {object} methods - Public methods for Store instance\n   * @param {function} callback - Callback method for Dispatcher dispatches\n   * @return {object} - Returns instance of Store\n   */\n\n\n  _createClass(McFly, [{\n    key: 'createStore',\n    value: function createStore(methods, callback) {\n      var store = new _Store2.default(methods, callback);\n      store.dispatcherID = this.dispatcher.register(store.callback);\n      this.stores.push(store);\n      return store;\n    }\n\n    /**\n     * Creates an instance of an ActionsFactory and adds the supplied actions\n     * to the global list of actions\n     *\n     * @param {object} actions - Action methods\n     * @return {object} - Returns instance of ActionsFactory\n     */\n\n  }, {\n    key: 'createActions',\n    value: function createActions(actions) {\n      var actionFactory = new _ActionsFactory2.default(actions);\n      (0, _objectAssign2.default)(this.actions, actionFactory);\n      return actionFactory;\n    }\n  }]);\n\n  return McFly;\n}();\n\nmodule.exports = McFly;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _flux = require('flux');\n\n/** Creates a singlar instance of Facebook's Dispatcher */\nvar appDispatcher = new _flux.Dispatcher();\n\nexports.default = appDispatcher;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _events = require('events');\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Store class\n */\n\nvar Store = function () {\n\n  /**\n   * Constructs a Store object, extends it with EventEmitter and supplied\n   * methods parameter,  and creates a mixin property for use in components.\n   *\n   * @param {object} methods - Public methods for Store instance\n   * @param {function} callback - Callback method for Dispatcher dispatches\n   * @constructor\n   */\n\n  function Store(methods, callback) {\n    _classCallCheck(this, Store);\n\n    var self = this;\n    this.callback = callback;\n    (0, _invariant2.default)(!methods.callback, '\"callback\" is a reserved name and cannot be used as a method name.');\n    (0, _invariant2.default)(!methods.mixin, '\"mixin\" is a reserved name and cannot be used as a method name.');\n    (0, _objectAssign2.default)(this, _events.EventEmitter.prototype, methods);\n    this.mixin = {\n      componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        var warn = void 0;\n        var changeFn = void 0;\n\n        try {\n          warn = (console.warn || console.log).bind(console);\n        } catch (e) {\n          warn = function warn() {\n            return false;\n          };\n        }\n\n        if (!this.storeDidChange) {\n          warn(\"A component that uses a McFly Store mixin is not implementing storeDidChange. onChange will be called instead, but this will no longer be supported from version 1.0.\");\n        }\n        changeFn = this.storeDidChange || this.onChange;\n        if (!changeFn) {\n          warn(\"A change handler is missing from a component with a McFly mixin. Notifications from Stores are not being handled.\");\n        }\n        this.listener = function () {\n          _this.isMounted() && changeFn();\n        };\n        self.addChangeListener(this.listener);\n      },\n      componentWillUnmount: function componentWillUnmount() {\n        this.listener && self.removeChangeListener(this.listener);\n      }\n    };\n  }\n\n  /**\n   * Returns dispatch token\n   */\n\n\n  _createClass(Store, [{\n    key: 'getDispatchToken',\n    value: function getDispatchToken() {\n      return this.dispatcherID;\n    }\n\n    /**\n     * Emits change event\n     */\n\n  }, {\n    key: 'emitChange',\n    value: function emitChange() {\n      this.emit('change');\n    }\n\n    /**\n     * Adds a change listener\n     *\n     * @param {function} callback - Callback method for change event\n     */\n\n  }, {\n    key: 'addChangeListener',\n    value: function addChangeListener(callback) {\n      this.on('change', callback);\n    }\n\n    /**\n     * Removes a change listener\n     *\n     * @param {function} callback - Callback method for change event\n     */\n\n  }, {\n    key: 'removeChangeListener',\n    value: function removeChangeListener(callback) {\n      this.removeListener('change', callback);\n    }\n  }]);\n\n  return Store;\n}();\n\nexports.default = Store;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Action = require('./Action');\n\nvar _Action2 = _interopRequireDefault(_Action);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * ActionsFactory class\n */\n\nvar ActionsFactory =\n\n/**\n * Constructs an ActionsFactory object and translates actions parameter into\n * Action objects.\n *\n * @param {object} actions - Object with methods to create actions with\n * @constructor\n */\nfunction ActionsFactory(actions) {\n  _classCallCheck(this, ActionsFactory);\n\n  var _actions = {};\n  for (var a in actions) {\n    if (actions.hasOwnProperty(a)) {\n      var action = new _Action2.default(actions[a]);\n      _actions[a] = action.dispatch.bind(action);\n    }\n  }\n  (0, _objectAssign2.default)(this, _actions);\n};\n\nexports.default = ActionsFactory;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Dispatcher = require('./Dispatcher');\n\nvar _Dispatcher2 = _interopRequireDefault(_Dispatcher);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction reThrow(reject, error) {\n  if (error && error.stack) {\n    console.error(error.stack);\n  }\n  return reject(error);\n}\n\n/**\n * Action class\n */\n\nvar Action = function () {\n\n  /**\n   * Constructs an Action object\n   *\n   * @param {function} callback - Callback method for Action\n   * @constructor\n   */\n\n  function Action(callback) {\n    _classCallCheck(this, Action);\n\n    this.callback = callback;\n  }\n\n  /**\n   * Calls callback method from Dispatcher\n   *\n   * @param {...*} arguments - arguments for callback method\n   * @returns Promise object\n   */\n\n\n  _createClass(Action, [{\n    key: 'dispatch',\n    value: function dispatch() {\n      return Promise.resolve(this.callback.apply(this, arguments)).then(function (payload) {\n        return new Promise(function (resolve, reject) {\n          if (!payload) return reThrow(reject, 'Payload needs to be an object');\n          if (!payload.actionType) return reThrow(reject, 'Payload object requires an actionType property');\n\n          try {\n            _Dispatcher2.default.dispatch(payload);\n          } catch (error) {\n            reThrow(reject, error);\n          }\n\n          resolve();\n        });\n      });\n    }\n  }]);\n\n  return Action;\n}();\n\nexports.default = Action;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","'use strict';\n/* eslint-disable no-unused-vars */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (e) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nmodule.exports.Dispatcher = require('./lib/Dispatcher');\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (\"production\" !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","/**\n * Copyright (c) 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule Dispatcher\n * \n * @preventMunge\n */\n\n'use strict';\n\nexports.__esModule = true;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar _prefix = 'ID_';\n\n/**\n * Dispatcher is used to broadcast payloads to registered callbacks. This is\n * different from generic pub-sub systems in two ways:\n *\n *   1) Callbacks are not subscribed to particular events. Every payload is\n *      dispatched to every registered callback.\n *   2) Callbacks can be deferred in whole or part until other callbacks have\n *      been executed.\n *\n * For example, consider this hypothetical flight destination form, which\n * selects a default city when a country is selected:\n *\n *   var flightDispatcher = new Dispatcher();\n *\n *   // Keeps track of which country is selected\n *   var CountryStore = {country: null};\n *\n *   // Keeps track of which city is selected\n *   var CityStore = {city: null};\n *\n *   // Keeps track of the base flight price of the selected city\n *   var FlightPriceStore = {price: null}\n *\n * When a user changes the selected city, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'city-update',\n *     selectedCity: 'paris'\n *   });\n *\n * This payload is digested by `CityStore`:\n *\n *   flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'city-update') {\n *       CityStore.city = payload.selectedCity;\n *     }\n *   });\n *\n * When the user selects a country, we dispatch the payload:\n *\n *   flightDispatcher.dispatch({\n *     actionType: 'country-update',\n *     selectedCountry: 'australia'\n *   });\n *\n * This payload is digested by both stores:\n *\n *   CountryStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       CountryStore.country = payload.selectedCountry;\n *     }\n *   });\n *\n * When the callback to update `CountryStore` is registered, we save a reference\n * to the returned token. Using this token with `waitFor()`, we can guarantee\n * that `CountryStore` is updated before the callback that updates `CityStore`\n * needs to query its data.\n *\n *   CityStore.dispatchToken = flightDispatcher.register(function(payload) {\n *     if (payload.actionType === 'country-update') {\n *       // `CountryStore.country` may not be updated.\n *       flightDispatcher.waitFor([CountryStore.dispatchToken]);\n *       // `CountryStore.country` is now guaranteed to be updated.\n *\n *       // Select the default city for the new country\n *       CityStore.city = getDefaultCityForCountry(CountryStore.country);\n *     }\n *   });\n *\n * The usage of `waitFor()` can be chained, for example:\n *\n *   FlightPriceStore.dispatchToken =\n *     flightDispatcher.register(function(payload) {\n *       switch (payload.actionType) {\n *         case 'country-update':\n *         case 'city-update':\n *           flightDispatcher.waitFor([CityStore.dispatchToken]);\n *           FlightPriceStore.price =\n *             getFlightPriceStore(CountryStore.country, CityStore.city);\n *           break;\n *     }\n *   });\n *\n * The `country-update` payload will be guaranteed to invoke the stores'\n * registered callbacks in order: `CountryStore`, `CityStore`, then\n * `FlightPriceStore`.\n */\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n\n  Dispatcher.prototype.register = function register(callback) {\n    var id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  };\n\n  /**\n   * Removes a callback based on its token.\n   */\n\n  Dispatcher.prototype.unregister = function unregister(id) {\n    !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.unregister(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n    delete this._callbacks[id];\n  };\n\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n\n  Dispatcher.prototype.waitFor = function waitFor(ids) {\n    !this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Must be invoked while dispatching.') : invariant(false) : undefined;\n    for (var ii = 0; ii < ids.length; ii++) {\n      var id = ids[ii];\n      if (this._isPending[id]) {\n        !this._isHandled[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): Circular dependency detected while ' + 'waiting for `%s`.', id) : invariant(false) : undefined;\n        continue;\n      }\n      !this._callbacks[id] ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatcher.waitFor(...): `%s` does not map to a registered callback.', id) : invariant(false) : undefined;\n      this._invokeCallback(id);\n    }\n  };\n\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n\n  Dispatcher.prototype.dispatch = function dispatch(payload) {\n    !!this._isDispatching ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.') : invariant(false) : undefined;\n    this._startDispatching(payload);\n    try {\n      for (var id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  };\n\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n\n  Dispatcher.prototype.isDispatching = function isDispatching() {\n    return this._isDispatching;\n  };\n\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._invokeCallback = function _invokeCallback(id) {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  };\n\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._startDispatching = function _startDispatching(payload) {\n    for (var id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  };\n\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n\n  Dispatcher.prototype._stopDispatching = function _stopDispatching() {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  };\n\n  return Dispatcher;\n})();\n\nmodule.exports = Dispatcher;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n\"use strict\";\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function (condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error('Invariant Violation: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;"]}